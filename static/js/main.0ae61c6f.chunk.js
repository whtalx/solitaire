(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(t){t.exports={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,ace:1,jack:11,queen:12,king:13}},,,,,,,,,,,,function(t){t.exports={deck_id:"gzmmfoiqmhc7",cards:[{value:"7",suit:"SPADES",code:"7S",image:"https://deckofcardsapi.com/static/img/7S.png",images:{svg:"https://deckofcardsapi.com/static/img/7S.svg",png:"https://deckofcardsapi.com/static/img/7S.png"}},{value:"KING",suit:"HEARTS",code:"KH",image:"https://deckofcardsapi.com/static/img/KH.png",images:{svg:"https://deckofcardsapi.com/static/img/KH.svg",png:"https://deckofcardsapi.com/static/img/KH.png"}},{value:"4",suit:"DIAMONDS",code:"4D",image:"https://deckofcardsapi.com/static/img/4D.png",images:{svg:"https://deckofcardsapi.com/static/img/4D.svg",png:"https://deckofcardsapi.com/static/img/4D.png"}},{value:"9",suit:"HEARTS",code:"9H",image:"https://deckofcardsapi.com/static/img/9H.png",images:{svg:"https://deckofcardsapi.com/static/img/9H.svg",png:"https://deckofcardsapi.com/static/img/9H.png"}},{value:"KING",suit:"DIAMONDS",code:"KD",image:"https://deckofcardsapi.com/static/img/KD.png",images:{svg:"https://deckofcardsapi.com/static/img/KD.svg",png:"https://deckofcardsapi.com/static/img/KD.png"}},{value:"10",suit:"CLUBS",code:"0C",image:"https://deckofcardsapi.com/static/img/0C.png",images:{svg:"https://deckofcardsapi.com/static/img/0C.svg",png:"https://deckofcardsapi.com/static/img/0C.png"}},{value:"5",suit:"DIAMONDS",code:"5D",image:"https://deckofcardsapi.com/static/img/5D.png",images:{svg:"https://deckofcardsapi.com/static/img/5D.svg",png:"https://deckofcardsapi.com/static/img/5D.png"}},{value:"10",suit:"SPADES",code:"0S",image:"https://deckofcardsapi.com/static/img/0S.png",images:{svg:"https://deckofcardsapi.com/static/img/0S.svg",png:"https://deckofcardsapi.com/static/img/0S.png"}},{value:"6",suit:"DIAMONDS",code:"6D",image:"https://deckofcardsapi.com/static/img/6D.png",images:{svg:"https://deckofcardsapi.com/static/img/6D.svg",png:"https://deckofcardsapi.com/static/img/6D.png"}},{value:"8",suit:"SPADES",code:"8S",image:"https://deckofcardsapi.com/static/img/8S.png",images:{svg:"https://deckofcardsapi.com/static/img/8S.svg",png:"https://deckofcardsapi.com/static/img/8S.png"}},{value:"9",suit:"CLUBS",code:"9C",image:"https://deckofcardsapi.com/static/img/9C.png",images:{svg:"https://deckofcardsapi.com/static/img/9C.svg",png:"https://deckofcardsapi.com/static/img/9C.png"}},{value:"9",suit:"SPADES",code:"9S",image:"https://deckofcardsapi.com/static/img/9S.png",images:{svg:"https://deckofcardsapi.com/static/img/9S.svg",png:"https://deckofcardsapi.com/static/img/9S.png"}},{value:"KING",suit:"CLUBS",code:"KC",image:"https://deckofcardsapi.com/static/img/KC.png",images:{svg:"https://deckofcardsapi.com/static/img/KC.svg",png:"https://deckofcardsapi.com/static/img/KC.png"}},{value:"9",suit:"DIAMONDS",code:"9D",image:"https://deckofcardsapi.com/static/img/9D.png",images:{svg:"https://deckofcardsapi.com/static/img/9D.svg",png:"https://deckofcardsapi.com/static/img/9D.png"}},{value:"JACK",suit:"HEARTS",code:"JH",image:"https://deckofcardsapi.com/static/img/JH.png",images:{svg:"https://deckofcardsapi.com/static/img/JH.svg",png:"https://deckofcardsapi.com/static/img/JH.png"}},{value:"QUEEN",suit:"HEARTS",code:"QH",image:"https://deckofcardsapi.com/static/img/QH.png",images:{svg:"https://deckofcardsapi.com/static/img/QH.svg",png:"https://deckofcardsapi.com/static/img/QH.png"}},{value:"3",suit:"HEARTS",code:"3H",image:"https://deckofcardsapi.com/static/img/3H.png",images:{svg:"https://deckofcardsapi.com/static/img/3H.svg",png:"https://deckofcardsapi.com/static/img/3H.png"}},{value:"ACE",suit:"SPADES",code:"AS",image:"https://deckofcardsapi.com/static/img/AS.png",images:{svg:"https://deckofcardsapi.com/static/img/AS.svg",png:"https://deckofcardsapi.com/static/img/AS.png"}},{value:"ACE",suit:"CLUBS",code:"AC",image:"https://deckofcardsapi.com/static/img/AC.png",images:{svg:"https://deckofcardsapi.com/static/img/AC.svg",png:"https://deckofcardsapi.com/static/img/AC.png"}},{value:"8",suit:"DIAMONDS",code:"8D",image:"https://deckofcardsapi.com/static/img/8D.png",images:{svg:"https://deckofcardsapi.com/static/img/8D.svg",png:"https://deckofcardsapi.com/static/img/8D.png"}},{value:"10",suit:"HEARTS",code:"0H",image:"https://deckofcardsapi.com/static/img/0H.png",images:{svg:"https://deckofcardsapi.com/static/img/0H.svg",png:"https://deckofcardsapi.com/static/img/0H.png"}},{value:"8",suit:"CLUBS",code:"8C",image:"https://deckofcardsapi.com/static/img/8C.png",images:{svg:"https://deckofcardsapi.com/static/img/8C.svg",png:"https://deckofcardsapi.com/static/img/8C.png"}},{value:"8",suit:"HEARTS",code:"8H",image:"https://deckofcardsapi.com/static/img/8H.png",images:{svg:"https://deckofcardsapi.com/static/img/8H.svg",png:"https://deckofcardsapi.com/static/img/8H.png"}},{value:"7",suit:"HEARTS",code:"7H",image:"https://deckofcardsapi.com/static/img/7H.png",images:{svg:"https://deckofcardsapi.com/static/img/7H.svg",png:"https://deckofcardsapi.com/static/img/7H.png"}},{value:"3",suit:"CLUBS",code:"3C",image:"https://deckofcardsapi.com/static/img/3C.png",images:{svg:"https://deckofcardsapi.com/static/img/3C.svg",png:"https://deckofcardsapi.com/static/img/3C.png"}},{value:"5",suit:"HEARTS",code:"5H",image:"https://deckofcardsapi.com/static/img/5H.png",images:{svg:"https://deckofcardsapi.com/static/img/5H.svg",png:"https://deckofcardsapi.com/static/img/5H.png"}},{value:"JACK",suit:"SPADES",code:"JS",image:"https://deckofcardsapi.com/static/img/JS.png",images:{svg:"https://deckofcardsapi.com/static/img/JS.svg",png:"https://deckofcardsapi.com/static/img/JS.png"}},{value:"QUEEN",suit:"CLUBS",code:"QC",image:"https://deckofcardsapi.com/static/img/QC.png",images:{svg:"https://deckofcardsapi.com/static/img/QC.svg",png:"https://deckofcardsapi.com/static/img/QC.png"}},{value:"4",suit:"CLUBS",code:"4C",image:"https://deckofcardsapi.com/static/img/4C.png",images:{svg:"https://deckofcardsapi.com/static/img/4C.svg",png:"https://deckofcardsapi.com/static/img/4C.png"}},{value:"2",suit:"CLUBS",code:"2C",image:"https://deckofcardsapi.com/static/img/2C.png",images:{svg:"https://deckofcardsapi.com/static/img/2C.svg",png:"https://deckofcardsapi.com/static/img/2C.png"}},{value:"7",suit:"CLUBS",code:"7C",image:"https://deckofcardsapi.com/static/img/7C.png",images:{svg:"https://deckofcardsapi.com/static/img/7C.svg",png:"https://deckofcardsapi.com/static/img/7C.png"}},{value:"2",suit:"SPADES",code:"2S",image:"https://deckofcardsapi.com/static/img/2S.png",images:{svg:"https://deckofcardsapi.com/static/img/2S.svg",png:"https://deckofcardsapi.com/static/img/2S.png"}},{value:"ACE",suit:"DIAMONDS",code:"AD",image:"https://deckofcardsapi.com/static/img/aceDiamonds.png",images:{svg:"https://deckofcardsapi.com/static/img/AD.svg",png:"https://deckofcardsapi.com/static/img/AD.png"}},{value:"4",suit:"SPADES",code:"4S",image:"https://deckofcardsapi.com/static/img/4S.png",images:{svg:"https://deckofcardsapi.com/static/img/4S.svg",png:"https://deckofcardsapi.com/static/img/4S.png"}},{value:"5",suit:"CLUBS",code:"5C",image:"https://deckofcardsapi.com/static/img/5C.png",images:{svg:"https://deckofcardsapi.com/static/img/5C.svg",png:"https://deckofcardsapi.com/static/img/5C.png"}},{value:"7",suit:"DIAMONDS",code:"7D",image:"https://deckofcardsapi.com/static/img/7D.png",images:{svg:"https://deckofcardsapi.com/static/img/7D.svg",png:"https://deckofcardsapi.com/static/img/7D.png"}},{value:"5",suit:"SPADES",code:"5S",image:"https://deckofcardsapi.com/static/img/5S.png",images:{svg:"https://deckofcardsapi.com/static/img/5S.svg",png:"https://deckofcardsapi.com/static/img/5S.png"}},{value:"QUEEN",suit:"DIAMONDS",code:"QD",image:"https://deckofcardsapi.com/static/img/QD.png",images:{svg:"https://deckofcardsapi.com/static/img/QD.svg",png:"https://deckofcardsapi.com/static/img/QD.png"}},{value:"QUEEN",suit:"SPADES",code:"QS",image:"https://deckofcardsapi.com/static/img/QS.png",images:{svg:"https://deckofcardsapi.com/static/img/QS.svg",png:"https://deckofcardsapi.com/static/img/QS.png"}},{value:"2",suit:"DIAMONDS",code:"2D",image:"https://deckofcardsapi.com/static/img/2D.png",images:{svg:"https://deckofcardsapi.com/static/img/2D.svg",png:"https://deckofcardsapi.com/static/img/2D.png"}},{value:"6",suit:"CLUBS",code:"6C",image:"https://deckofcardsapi.com/static/img/6C.png",images:{svg:"https://deckofcardsapi.com/static/img/6C.svg",png:"https://deckofcardsapi.com/static/img/6C.png"}},{value:"2",suit:"HEARTS",code:"2H",image:"https://deckofcardsapi.com/static/img/2H.png",images:{svg:"https://deckofcardsapi.com/static/img/2H.svg",png:"https://deckofcardsapi.com/static/img/2H.png"}},{value:"6",suit:"SPADES",code:"6S",image:"https://deckofcardsapi.com/static/img/6S.png",images:{svg:"https://deckofcardsapi.com/static/img/6S.svg",png:"https://deckofcardsapi.com/static/img/6S.png"}},{value:"JACK",suit:"CLUBS",code:"JC",image:"https://deckofcardsapi.com/static/img/JC.png",images:{svg:"https://deckofcardsapi.com/static/img/JC.svg",png:"https://deckofcardsapi.com/static/img/JC.png"}},{value:"4",suit:"HEARTS",code:"4H",image:"https://deckofcardsapi.com/static/img/4H.png",images:{svg:"https://deckofcardsapi.com/static/img/4H.svg",png:"https://deckofcardsapi.com/static/img/4H.png"}},{value:"3",suit:"SPADES",code:"3S",image:"https://deckofcardsapi.com/static/img/3S.png",images:{svg:"https://deckofcardsapi.com/static/img/3S.svg",png:"https://deckofcardsapi.com/static/img/3S.png"}},{value:"JACK",suit:"DIAMONDS",code:"JD",image:"https://deckofcardsapi.com/static/img/JD.png",images:{svg:"https://deckofcardsapi.com/static/img/JD.svg",png:"https://deckofcardsapi.com/static/img/JD.png"}},{value:"KING",suit:"SPADES",code:"KS",image:"https://deckofcardsapi.com/static/img/KS.png",images:{svg:"https://deckofcardsapi.com/static/img/KS.svg",png:"https://deckofcardsapi.com/static/img/KS.png"}},{value:"10",suit:"DIAMONDS",code:"0D",image:"https://deckofcardsapi.com/static/img/0D.png",images:{svg:"https://deckofcardsapi.com/static/img/0D.svg",png:"https://deckofcardsapi.com/static/img/0D.png"}},{value:"3",suit:"DIAMONDS",code:"3D",image:"https://deckofcardsapi.com/static/img/3D.png",images:{svg:"https://deckofcardsapi.com/static/img/3D.svg",png:"https://deckofcardsapi.com/static/img/3D.png"}},{value:"6",suit:"HEARTS",code:"6H",image:"https://deckofcardsapi.com/static/img/6H.png",images:{svg:"https://deckofcardsapi.com/static/img/6H.svg",png:"https://deckofcardsapi.com/static/img/6H.png"}},{value:"ACE",suit:"HEARTS",code:"AH",image:"https://deckofcardsapi.com/static/img/AH.png",images:{svg:"https://deckofcardsapi.com/static/img/AH.svg",png:"https://deckofcardsapi.com/static/img/AH.png"}}],remaining:0,success:!0}},function(t,e,a){t.exports=a.p+"static/media/deck.34fec139.png"},function(t){t.exports={hearts:"diamonds",diamonds:"hearts",spades:"clubs",clubs:"spades"}},function(t,e,a){t.exports=a(55)},,,,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var s=a(0),i=a.n(s),n=a(14),o=a.n(n),r=a(2),c=a(12),d=a(10),l=a(1),p=a(9);function u(t,e){for(var a=0;a<e.length;a++){if(0===e[a].length&&"ace"===t.value)return a;if(e[a].length>0&&t.suit===e[a][e[a].length-1].suit&&p[t.value]===p[e[a][e[a].length-1].value]+1)return a}return!1}var m=a(21);function g(){var t={deck:[],waste:[],foundation:[[],[],[],[]],tableau:[[],[],[],[],[],[],[]]};m.cards.forEach(function(e){t.deck.push({code:e.code,value:e.value.toLowerCase(),suit:e.suit.toLowerCase(),status:"downturned"})});for(var e=1;e<=7;e++)for(var a=1;a<=e;a++)t.tableau[e-1].push(Object(l.a)({},t.deck.pop(),{status:a===e?"upturned":"downturned"}));return t}var h={standard:{start:0,wasteToTableau:5,wasteToFoundation:10,tableauToFoundation:10,turn:5,undo:-2,undoTableauToFoundation:-8,undoWasteToFoundation:-10,undoFoundationToTableau:15,foundationToTableau:-15,recycleWaste:-100,time:-2},vegas:{start:-52,wasteToTableau:0,wasteToFoundation:5,tableauToFoundation:5,turn:0,undo:0,undoTableauToFoundation:-5,undoWasteToFoundation:-5,undoFoundationToTableau:5,foundationToTableau:-5,recycleWaste:0,time:0},none:{start:0,wasteToTableau:0,wasteToFoundation:0,tableauToFoundation:0,turn:0,undo:0,undoTableauToFoundation:0,undoWasteToFoundation:0,undoFoundationToTableau:0,foundationToTableau:0,recycleWaste:0,time:0}};function f(t){var e=h[t.scoring].start;return"vegas"===t.scoring&&t.cumulative&&(localStorage.getItem("score")&&(e+=parseInt(localStorage.getItem("score"))),localStorage.setItem("score",e)),e}function v(t,e){var a=t.status.score;return a+=h[t.options.scoring][e],"vegas"===t.options.scoring&&t.options.cumulative&&localStorage.setItem("score",a),"standard"===t.options.scoring&&a<0&&(a=0),a}function y(t){for(var e={},a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return s.forEach(function(a){switch(a){case"waste":case"deck":e[a]=Object(d.a)(t.cards[a]);break;case"foundation":case"tableau":e[a]=t.cards[a].map(function(t){return t.map(function(t){return Object(l.a)({},t)})})}}),e}function w(t){for(var e=Object(l.a)({},t),a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return s.forEach(function(t){switch(t){case"won":e.statistics.won[e.options.scoring]+=1,localStorage.setItem("won_".concat(e.options.scoring),e.statistics.won[e.options.scoring]);break;case"played":e.statistics.played[e.options.scoring]+=1,localStorage.setItem("played_".concat(e.options.scoring),e.statistics.played[e.options.scoring]);break;case"score":"standard"===e.options.scoring?e.options.timed?(e.status.time>30&&(e.status.bonus=Math.floor(7e5/e.status.time),e.status.score+=e.status.bonus),e.statistics.hiScore.standard.timed<e.status.score&&(e.statistics.hiScore.standard.timed=e.status.score,localStorage.setItem("hiScore_standard_timed",e.statistics.hiScore.standard.timed))):!e.options.timed&&e.statistics.hiScore.standard.normal<e.status.score&&(e.statistics.hiScore.standard.normal=e.status.score,localStorage.setItem("hiScore_standard_normal",e.statistics.hiScore.standard.normal)):"vegas"===e.options.scoring&&e.statistics.hiScore.vegas<e.status.score&&(e.statistics.hiScore.vegas=e.status.score,localStorage.setItem("hiScore_vegas",e.statistics.hiScore.vegas));break;case"time":e.options.timed&&e.statistics.bestTime>e.status.time&&(e.statistics.bestTime=e.status.time,localStorage.setItem("bestTime",e.statistics.bestTime))}}),e}var b=g(),k={draw:localStorage.getItem("cards_draw")?localStorage.getItem("cards_draw"):"one",scoring:localStorage.getItem("scoring_type")?localStorage.getItem("scoring_type"):"standard",cumulative:localStorage.getItem("score_cumulative")&&"true"===localStorage.getItem("score_cumulative"),timed:localStorage.getItem("game_timed")&&"true"===localStorage.getItem("game_timed"),status:!localStorage.getItem("game_statusbar")||"true"===localStorage.getItem("game_statusbar"),outline:localStorage.getItem("cards_outline")&&"true"===localStorage.getItem("cards_outline"),back:localStorage.getItem("cards_back")?parseInt(localStorage.getItem("cards_back")):Math.round(11*Math.random())},E=f(k),S={played:{standard:localStorage.getItem("played_standard")?parseInt(localStorage.getItem("played_standard")):0,vegas:localStorage.getItem("played_vegas")?parseInt(localStorage.getItem("played_vegas")):0,none:localStorage.getItem("played_none")?parseInt(localStorage.getItem("played_none")):0},won:{standard:localStorage.getItem("won_standard")?parseInt(localStorage.getItem("won_standard")):0,vegas:localStorage.getItem("won_vegas")?parseInt(localStorage.getItem("won_vegas")):0,none:localStorage.getItem("won_none")?parseInt(localStorage.getItem("won_none")):0},hiScore:{standard:{normal:localStorage.getItem("hiScore_standard_normal")?parseInt(localStorage.getItem("hiScore_standard_normal")):0,timed:localStorage.getItem("hiScore_standard_timed")?parseInt(localStorage.getItem("hiScore_standard_timed")):0},vegas:localStorage.getItem("hiScore_vegas")?parseInt(localStorage.getItem("hiScore_vegas")):0},bestTime:localStorage.getItem("bestTime")?parseInt(localStorage.getItem("bestTime")):1/0},O={status:{score:E,time:0,bonus:0,rollsCount:0,rollThrough:!("vegas"===k.scoring&&"one"===k.draw),history:{},cardsInFoundation:0,isCelebrating:!1,isPlaying:!1},cards:b,options:k,statistics:S};var C={solitaire:{caption:"Solitaire",buttons:["minimize","maximize","close"],menu:{categories:{game:{deal:{id:0,type:"menu-item",description:"Deal a new game",function:"deal",text:"Deal F2"},break_first:{id:1,type:"break"},undo:{id:2,type:"menu-item",description:"Undo last action",function:"undo",text:"Undo"},back:{id:3,type:"menu-item",description:"Choose new deck back",function:"back",text:"Deck..."},options:{id:4,type:"menu-item",description:"Change Solitaire options",function:"options",text:"Options..."},break_second:{id:5,type:"break"},exit:{id:6,type:"menu-item",description:"Exit Solitaire",function:"exit",text:"Exit"}},help:{contents:{id:0,type:"menu-item",description:"Index of Solitaire help topics",function:"help",text:"Contents F1"},search:{id:1,type:"menu-item",description:"Search the Help Engine for a specific topic",function:"help",text:"Search for Help on..."},howTo:{id:2,type:"menu-item",description:"Help using help",function:"help",text:"How to Use Help"},break_first:{id:3,type:"break"},statistics:{id:4,type:"menu-item",description:"Game Statistics",function:"statistics",text:"Game Statistics"}}},hovered:null,isShowing:!1},status:{description:""},style:{width:585,height:404,left:null,top:null},lastStyle:null,isBlocked:!1,isMaximized:!1,isMinimized:!1,isResizing:!1,isResizable:!0,isShowing:!0},back:{alert:!1,caption:"Select Card Back",buttons:["help","close"],style:{width:267,height:190,left:null,top:null},isBlocking:!0,isShowing:!1},options:{alert:!1,caption:"Options",buttons:["help","close"],style:{width:336,height:192,left:null,top:null},isBlocking:!0,isShowing:!1},help:{caption:"Solitaire",buttons:["minimize","maximize","close"],style:{width:542,height:416,left:null,top:null},lastStyle:null,isBlocking:!1,isMaximized:!1,isMinimized:!1,isResizing:!1,isResizable:!0,isShowing:!0},restart:{alert:!1,caption:"Solitaire",buttons:["close"],style:{width:179,height:94,left:null,top:null},isBlocking:!0,isShowing:!1},statistics:{alert:!1,caption:"Statistics",buttons:["close"],style:{width:413,height:322,left:null,top:null},isBlocking:!0,isShowing:!1},activity:["solitaire","help"],minimized:[],cursor:null,isCursorFreezed:!1};var x=Object(c.b)({game:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"DEAL":var a=Object(l.a)({},t);return a.cards=g(),a.status={score:f(a.options),time:0,bonus:0,rollsCount:0,rollThrough:!("vegas"===a.options.scoring&&"one"===a.options.draw),history:{},cardsInFoundation:0,isCelebrating:!1,isPlaying:!1},a;case"DRAW":var s=Object(l.a)({},t);if(s.status.history=y(s,"deck","waste"),t.cards.deck.length>0){if("one"===e.payload)return s.cards.waste.push(Object(l.a)({},s.cards.deck.shift(),{status:"upturned"})),s;var i;if("three"===e.payload)return s.cards.waste=s.cards.waste.map(function(t){return Object(l.a)({},t,{draw:null})}),(i=s.cards.waste).push.apply(i,Object(d.a)(s.cards.deck.splice(0,3).map(function(t,e){return Object(l.a)({},t,{draw:e+1,status:"upturned"})}))),s}return s.status.score=v(s,"recycleWaste"),s.cards.deck=s.cards.waste.map(function(t){return Object(l.a)({},t,{status:"downturned"})}),s.cards.waste=[],s.status.rollsCount+=1,"vegas"===s.options.scoring&&"three"===s.options.draw&&2===s.status.rollsCount&&(s.status.rollThrough=!1),s;case"DROP":var n=Object(l.a)({},t),o=e.payload,r=o.from,c=o.to;if("tableau"===r.parent)if("tableau"===c.parent){var p,m=r.index,h=n.cards.tableau[r.parent_index].length-m;n.status.history=y(n,"tableau"),(p=n.cards.tableau[c.parent_index]).push.apply(p,Object(d.a)(n.cards.tableau[r.parent_index].splice(m,h)))}else"foundation"===c.parent&&(n.status.history=y(n,"tableau","foundation"),n.status.score=v(n,"tableauToFoundation"),n.status.cardsInFoundation+=1,n.cards.foundation[c.parent_index].push(n.cards.tableau[r.parent_index].pop()));else"waste"===r.parent?("tableau"===c.parent?(n.status.history=y(n,"waste","tableau"),n.status.score=v(n,"wasteToTableau")):"foundation"===c.parent&&(n.status.history=y(n,"waste","foundation"),n.status.score=v(n,"wasteToFoundation"),n.status.cardsInFoundation+=1),n.cards[c.parent][c.parent_index].push(n.cards.waste.pop())):"foundation"===r.parent&&("tableau"===c.parent?(n.status.history=y(n,"foundation","tableau"),n.status.score=v(n,"foundationToTableau"),n.status.cardsInFoundation-=1):n.status.history=y(n,"foundation"),n.cards[c.parent][c.parent_index].push(n.cards.foundation[r.parent_index].pop()));return n;case"TURN":var b=Object(l.a)({},t),k=e.payload;return b.cards.tableau[k.parent_index].length-1===k.index&&(b.status.history={},b.status.score=v(b,"turn"),b.cards.tableau[k.parent_index][k.index].status="upturned"),b;case"FUND_ONE":var E=Object(l.a)({},t),S=u(Number.isFinite(e.payload.parent_index)?E.cards[e.payload.parent][e.payload.parent_index][e.payload.index]:E.cards[e.payload.parent][e.payload.index],E.cards.foundation);return Number.isFinite(S)&&(Number.isFinite(e.payload.parent_index)?(E.status.history=y(E,"foundation","tableau"),E.status.score=v(E,"tableauToFoundation"),E.cards.foundation[S].push(E.cards[e.payload.parent][e.payload.parent_index].pop())):(E.status.history=y(E,"foundation","waste"),E.status.score=v(E,"wasteToFoundation"),E.cards.foundation[S].push(E.cards[e.payload.parent].pop())),E.status.cardsInFoundation+=1),E;case"FUND_ALL":var C=Object(l.a)({},t);t:for(;;){if(C.cards.waste.length>0){var x=u(C.cards.waste[C.cards.waste.length-1],C.cards.foundation);if(Number.isFinite(x)){C.status.history=y(C,"foundation","waste"),C.status.score=v(C,"wasteToFoundation"),C.cards.foundation[x].push(C.cards.waste.pop()),C.status.cardsInFoundation+=1;continue}}for(var I=0;I<C.cards.tableau.length;I++)if(C.cards.tableau[I].length>0&&"upturned"===C.cards.tableau[I][C.cards.tableau[I].length-1].status){var N=u(C.cards.tableau[I][C.cards.tableau[I].length-1],C.cards.foundation);if(Number.isFinite(N)){C.status.history=y(C,"foundation","tableau"),C.status.score=v(C,"tableauToFoundation"),C.cards.foundation[N].push(C.cards.tableau[I].pop()),C.status.cardsInFoundation+=1;continue t}}break}return C;case"SET_OPTIONS":var D=Object(l.a)({},t),T=e.payload,_=T.draw,j=T.scoring,L=T.cumulative,A=T.timed,M=T.status,H=T.outline;return void 0!==_&&(D.options.draw=_,localStorage.setItem("cards_draw",_)),void 0!==j&&(D.options.scoring=j,localStorage.setItem("scoring_type",j),localStorage.getItem("score")&&localStorage.removeItem("score")),void 0!==L&&(D.options.cumulative=L,localStorage.setItem("score_cumulative",L),L?localStorage.setItem("score",D.status.score):localStorage.getItem("score")&&localStorage.removeItem("score")),void 0!==A&&(D.options.timed=A,localStorage.setItem("game_timed",A),localStorage.getItem("score")&&localStorage.removeItem("score")),void 0!==M&&(D.options.status=M,localStorage.setItem("game_statusbar",M)),void 0!==H&&(D.options.outline=H,localStorage.setItem("cards_outline",H)),D;case"SET_BACK":var z=Object(l.a)({},t);return z.options.back=e.payload,localStorage.setItem("cards_back",e.payload),z;case"UNDO":var F=Object(l.a)({},t);if(Object.keys(F.status.history).includes("deck")&&0===F.status.history.deck.length&&(F.status.rollsCount-=1),Object.keys(F.status.history).includes("foundation"))if(Object.keys(F.status.history).includes("tableau")){var R=0,W=0;F.status.history.foundation.forEach(function(t){R+=t.length}),F.cards.foundation.forEach(function(t){W+=t.length}),F.status.score=v(F,W<R?"undoFoundationToTableau":"undoTableauToFoundation")}else Object.keys(F.status.history).includes("waste")&&(F.status.score=v(F,"undoWasteToFoundation"));for(var P in F.status.history)F.cards[P]=Object(d.a)(F.status.history[P]);return F.status.history={},F.status.score=v(F,"undo"),F;case"START_GAME":var U=Object(l.a)({},t);return U.status.isPlaying||(U.status.isPlaying=!0,U=w(U,"played")),U;case"STOP_GAME":var B=Object(l.a)({},t);return B.status.isPlaying&&(B.status.isPlaying=!1),B;case"TICK":var K=Object(l.a)({},t);return K.status.isPlaying?(K.status.time=e.payload,K.status.time%10===0&&(K.status.score=v(K,"time")),K):K;case"START_CELEBRATING":var G=Object(l.a)({},t);return G.status.isPlaying=!1,G.status.isCelebrating=!0,G=w(G,"won","score","time");case"SHOOT_CARD":var X=Object(l.a)({},t);return Number.isFinite(e.payload)&&X.cards.foundation[e.payload].pop(),X;case"STOP_CELEBRATING":var Y=Object(l.a)({},t);return Y.status.isCelebrating&&(Y.status.isCelebrating=!1),Y;default:return t}},window:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MOVE":var a=Object(l.a)({},t),s=e.payload,i=s.window,n=s.left,o=s.top;return a[i]?(a[i].style.left=n,a[i].style.top=o,a):a;case"MINIMIZE":var r=Object(l.a)({},t),c=e.payload;return r[c]?(r[c].isMaximized&&(r[c].isMaximized=!1),r[c].isMinimized=!0,r[c].buttons=["restore","maximize","close"],r.minimized.push(c),null===r[c].lastStyle&&(r[c].lastStyle=Object(l.a)({},r[c].style)),r[c].style={width:0,height:0,left:151*r.minimized.indexOf(c),top:document.documentElement.clientHeight},r):r;case"MAXIMIZE":var p=Object(l.a)({},t),u=e.payload;return p[u]?(p.minimized.includes(u)&&(p.minimized.splice(p.minimized.indexOf(u),1),p.minimized.length>0&&p.minimized.forEach(function(t){p[t].style.left=151*p.minimized.indexOf(t)})),p[u].isMinimized&&(p[u].isMinimized=!1),p[u].isMaximized=!0,p[u].buttons=["minimize","restore","close"],null===p[u].lastStyle&&(p[u].lastStyle=Object(l.a)({},p[u].style)),p[u].style={width:"",height:"",left:0,top:26},p):p;case"RESTORE":var m=Object(l.a)({},t),g=e.payload;return m[g]?(m.minimized.includes(g)&&(m.minimized.splice(m.minimized.indexOf(g),1),m.minimized.length>0&&m.minimized.forEach(function(t){m[t].style.left=151*m.minimized.indexOf(t)})),m[g].style=Object(l.a)({},m[g].lastStyle),m[g].lastStyle=null,m[g].isMinimized=!1,m[g].isMaximized=!1,m[g].buttons=["minimize","maximize","close"],m):m;case"RESIZE":var h=Object(l.a)({},t),f=e.payload,v=f.window,y=f.top,w=f.left,b=f.width,k=f.height;return h[v]&&h[v].isResizable?(Number.isFinite(b)&&(h[v].style.width=b),Number.isFinite(k)&&(h[v].style.height=k),Number.isFinite(w)&&(h[v].style.left=w),Number.isFinite(y)&&(h[v].style.top=y),h):h;case"ACTIVATE":var E=Object(l.a)({},t),S=e.payload;if(!E[S])return E;if(E[S].isBlocked){if(E.activity.indexOf(S)+1<E.activity.length-1){var O;E.activity.indexOf("")>=0&&E.activity.splice(E.activity.indexOf(""),1);var x=E.activity.splice(E.activity.indexOf(S),2);return(O=E.activity).push.apply(O,Object(d.a)(x)),E}if(E.activity.indexOf(S)+1===E.activity.length-1)return!E[E.activity[E.activity.length-1]].alert&&(E[E.activity[E.activity.length-1]].alert=!0),E}return E.activity.includes("")&&E.activity.splice(E.activity.indexOf(""),1),E.activity.splice(E.activity.indexOf(S),1),E.activity.push(S),E;case"DEACTIVATE":var I=Object(l.a)({},t);return 0===I.activity.length||I.activity.includes("")?I:(I.activity.forEach(function(t){I[t]&&I[t].alert&&(I[t].alert=!1)}),I.activity.push(""),I);case"CANCEL_ALERT":var N=Object(l.a)({},t),D=e.payload;return N[D]?(N[D].alert&&(N[D].alert=!1),N):N;case"CLOSE":var T=Object(l.a)({},t),_=e.payload;if(!T[_])return T;if("solitaire"===_)for(var j in T)T[j]&&T[j].isShowing&&(T[j].isShowing=!1,T.activity.splice(T.activity.indexOf(j),1));else T[_].isBlocking&&(T.solitaire.isBlocked=!1);return T[_].isShowing=!1,T[_].style.left=null,T[_].style.top=null,T.activity.splice(T.activity.indexOf(_),1),(T[_].isMaximized||T[_].isMinimized)&&(T[_].style=Object(l.a)({},T[_].lastStyle),T[_].lastStyle=null,T[_].isMinimized=!1,T[_].isMaximized=!1,T[_].buttons=["minimize","maximize","close"],T.minimized.includes(_)&&(T.minimized.splice(T.minimized.indexOf(_),1),T.minimized.length>0&&T.minimized.forEach(function(t){T[t].style.left=151*T.minimized.indexOf(t)}))),T;case"SHOW_WINDOW":var L=Object(l.a)({},t),A=e.payload;return L[A]?("solitaire"!==A&&L[e.payload].isBlocking&&(L.solitaire.isBlocked=!0),L[A].isShowing=!0,L.activity.includes(A)&&L.activity.splice(L.activity.indexOf(A),1),L.activity.push(A),L):L;case"CHANGE_CURSOR":var M=Object(l.a)({},t),H=e.payload,z=H.window,F=H.cursor;return M[z]&&M[z].isResizable?(M.cursor=F,M):M;case"SHOW_MENU":var R=Object(l.a)({},t),W=e.payload,P=W.window,U=W.show;return R[P]&&R[P].menu?(U?R[P].menu.isShowing=!0:(R[P].menu.isShowing=!1,R[P].menu.hovered=null,R[P].status.description=""),R):R;case"HOVER_MENU":var B=Object(l.a)({},t),K=e.payload,G=K.window,X=K.hover;return B[G]&&B[G].menu?(B[G].menu.hovered=X,B):B;case"DESCRIBE_MENU":var Y=Object(l.a)({},t),J=e.payload,Q=J.window,V=J.describe;return Y[Q]&&Y[Q].menu?(e.payload.describe?Y[Q].status.description=Y[Q].menu.categories[Y[Q].menu.hovered][V].description:Y[Q].status.description="",Y):Y;case"FREEZE_CURSOR":var Z=Object(l.a)({},t);return Z.isCursorFreezed=e.payload,Z;default:return t}}}),I=Object(c.c)(x,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),N=a(3),D=a(4),T=a(6),_=a(5),j=a(7);a(33),a(34);function L(t){var e=this;if("solitaire"===this.props.parent&&this.props.game.status.isCelebrating)return t.stopPropagation(),this.props.showMenu({window:"solitaire",show:!1}),void this.props.stopCelebrating();if(0===t.button&&t.target.classList.contains("menu-category")&&!this.props.window[this.props.parent].isBlocked){var a=function t(a){if(!(a.target.classList.contains("drop-down-menu")||"HR"===a.target.tagName&&a.target.offsetParent&&a.target.offsetParent.classList.contains("drop-down-menu"))){if("SPAN"===a.target.tagName&&a.target.offsetParent&&a.target.offsetParent.classList.contains("menu-item")){if(0!==a.button)return;e.props[a.target.offsetParent.dataset.func]()}else if(a.target.classList.contains("menu-item")){if(0!==a.button||a.target.classList.contains("disabled"))return;e.props[a.target.dataset.func]()}e.props.showMenu({window:e.props.parent,show:!1}),document.removeEventListener("mousedown",t)}},s=t.target.firstChild.textContent.toLowerCase();this.props.window[this.props.parent].menu.hovered!==s&&this.props.hoverMenu({window:this.props.parent,hover:s}),this.props.showMenu({window:this.props.parent,show:!this.props.window[this.props.parent].menu.isShowing}),this.props.window[this.props.parent].menu.isShowing?document.addEventListener("mousedown",a):document.removeEventListener("mousedown",a)}}function A(t){if(t.target.classList.contains("menu-category")&&!this.props.window[this.props.parent].isBlocked){var e=t.target.firstChild.textContent.toLowerCase();switch(t.type){case"mouseenter":this.props.hoverMenu({window:this.props.parent,hover:e});break;case"mouseleave":this.props.window[this.props.parent].menu.isShowing||this.props.window[this.props.parent].menu.hovered!==e||this.props.hoverMenu({window:this.props.parent,hover:null})}}}function M(t){var e=this.props.window[this.props.parent];if(e)if(t.target.classList.contains("menu-item")||t.target.offsetParent.classList.contains("menu-item")){var a=t.target;t.target.offsetParent.classList.contains("menu-item")&&(a=t.target.offsetParent),e.status.description!==e.menu.categories[e.menu.hovered][a.dataset.name].description&&this.props.describeMenu({window:this.props.parent,describe:a.dataset.name})}else""!==e.status.description&&this.props.describeMenu({window:this.props.parent,describe:null})}var H=function(t){function e(){return Object(N.a)(this,e),Object(T.a)(this,Object(_.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(D.a)(e,[{key:"render",value:function(){var t=this.props.window[this.props.parent].menu.categories,e=[];for(var a in t){var s=[];for(var n in t[a])if("menu-item"===t[a][n].type){var o="menu-item";"undo"===n&&0===Object.keys(this.props.game.status.history).length&&(o+=" disabled"),s.push(i.a.createElement("div",{key:n,className:o,"data-name":n,"data-func":t[a][n].function},0===t[a][n].id?t[a][n].text.split(" ").map(function(t){return i.a.createElement("span",{key:t},t)}):t[a][n].text))}else"break"===t[a][n].type&&s.push(i.a.createElement("hr",{key:n,onMouseEnter:this.clearDescription}));var r="menu-category";this.props.window[this.props.parent].menu.hovered===a&&(r+=" hovered",this.props.window[this.props.parent].menu.isShowing&&(r+=" showing")),e.push(i.a.createElement("div",{key:"menu-category-".concat(a),className:r,onMouseDown:L.bind(this),onMouseEnter:A.bind(this),onMouseLeave:A.bind(this)},a.charAt(0).toUpperCase()+a.slice(1),i.a.createElement("div",{className:"drop-down-menu ".concat(a),onMouseMove:M.bind(this)},s)))}return i.a.createElement("div",{className:"menu-bar"},e)}}]),e}(s.PureComponent),z=Object(r.b)(function(t){return{game:t.game,window:t.window}},function(t){return{deal:function(){return t({type:"DEAL"})},undo:function(){return t({type:"UNDO"})},back:function(){return t({type:"SHOW_WINDOW",payload:"back"})},options:function(){return t({type:"SHOW_WINDOW",payload:"options"})},exit:function(){return t({type:"CLOSE",payload:"solitaire"})},help:function(){return t({type:"SHOW_WINDOW",payload:"help"})},statistics:function(){return t({type:"SHOW_WINDOW",payload:"statistics"})},showMenu:function(e){return t({type:"SHOW_MENU",payload:e})},hoverMenu:function(e){return t({type:"HOVER_MENU",payload:e})},describeMenu:function(e){return t({type:"DESCRIBE_MENU",payload:e})},stopCelebrating:function(){t({type:"STOP_CELEBRATING"}),t({type:"SHOW_WINDOW",payload:"restart"})}}})(H);a(35),a(36);function F(t){var e="button";return"ok"===t.type?e+=" button_ok":"cancel"===t.type&&(e+=" button_cancel"),t.selected&&(e+=" button_selected"),i.a.createElement("div",{className:e,onMouseDown:function(e){if(t.click&&0===e.button){var a=e.target;document.addEventListener("mouseup",function(e){e.target===a&&t.click()},{once:!0})}}})}var R=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).state={selected:a.props.game.options.back},a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"render",value:function(){for(var t=this,e=[],a=function(a){var s="grid-item back-".concat(a);t.state.selected===a&&(s+=" selected"),e.push(i.a.createElement("div",{key:"bg-".concat(a),className:s,onMouseDown:function(e){0===e.button&&t.setState({selected:a})}}))},s=0;s<12;s++)a(s);return i.a.createElement("div",{className:"back-contents"},i.a.createElement("div",{className:"back-grid"},e),i.a.createElement(F,{type:"ok",selected:!0,click:function(){t.props.set(t.state.selected)}}),i.a.createElement(F,{type:"cancel",click:function(){t.props.close()}}))}}]),e}(s.Component),W=Object(r.b)(function(t){return{game:t.game}},function(t){return{close:function(){return t({type:"CLOSE",payload:"back"})},set:function(e){t({type:"SET_BACK",payload:e}),t({type:"CLOSE",payload:"back"})}}})(R);a(37);function P(t){var e=this;if(0===t.button){var a=t.target;a.classList.add("pressed"),document.addEventListener("mouseup",function(t){t.target===a&&(e.setState({isShowingContents:!e.state.isShowingContents}),e.state.isShowingContents||e.props.window.help.isMaximized?e.state.isShowingContents&&!e.props.window.help.isMaximized&&e.props.resize({window:"help",left:e.refs.container.parentElement.offsetLeft-e.contentsWidth-e.state.shift-3,width:e.contentsWidth+3+e.refs.container.clientWidth+e.state.shift}):e.props.resize({window:"help",left:e.refs.container.parentElement.offsetLeft+e.contentsWidth+e.state.shift+3,width:e.refs.container.clientWidth-e.contentsWidth-e.state.shift-3})),a.classList.remove("pressed")},{once:!0})}}function U(t){var e=this;this.props.changeCursor({window:"help",cursor:"ew-resize"}),this.props.freezeCursor(!0);var a=t.target.cloneNode(),s=t.target.parentElement,i=t.pageX,n=this.state.shift;a.style.position="absolute",a.style.left="".concat(this.contentsWidth+n,"px"),a.style.top="41px",a.style.zIndex=1,s.appendChild(a);var o=function(t){n=t.pageX-i+e.state.shift,a.style.transform="translateX(".concat(t.pageX-i,"px)")};document.addEventListener("mousemove",o),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",o),s.removeChild(a),e.props.freezeCursor(!1),e.props.changeCursor({window:"help",cursor:null}),e.refs.container.clientWidth-e.contentsWidth-n<145?n=e.refs.container.clientWidth-e.contentsWidth-145:e.contentsWidth+n<145&&(n=145-e.contentsWidth),e.setState({shift:n})},{once:!0})}a(38);function B(t){return i.a.createElement("div",{className:"contents"},[{type:"book",caption:"Solitaire",id:"book"},{type:"category",caption:"Solitaire overview",id:"overview"},{type:"topic",caption:"Play Solitaire",id:"play"},{type:"topic",caption:"Change game options",id:"options"},{type:"topic",caption:"Choose a scoring system",id:"scoring"}].map(function(e,a){if(!t.isOpened&&0!==a)return null;var s=e.type;return"book"===s&&(t.isOpened?s+=" opened":s+=" closed"),t.selected===e.id&&(s+=" selected"),i.a.createElement("div",{key:e.id,className:s,onMouseDown:function(){return t.select(e.id)}},i.a.createElement("div",{className:"icon"}),i.a.createElement("span",{className:"caption"},e.caption))}))}var K=a(8),G=(a(39),[i.a.createElement("h1",{key:"heading",className:"heading"},"Solitaire overview"),i.a.createElement("p",{key:"paragraph",className:"paragraph"},"The object of Solitaire is to use all the cards in the deck to build up the four suit stacks in ascending order, beginning with the aces.")]),X=(a(40),{"row stacks":"Cards are stacked in descending order, alternating between red cards and black cards. For example, you can play the two of hearts on three of clubs.","suit stacks":"Cards are stacked in the four areas at the upper right of the screen in ascending order, beginning with aces. For example, you can play the two of hearts on the ace of hearts.",drag:"To move in item on the screen by selecting the item and then pressing and holding down the mouse button while moving the mouse. For example, you can move a window to another location on the screen by dragging its title bar."});function Y(t){var e=t.children;return i.a.createElement("span",{className:"definable",onMouseEnter:function(t){var e=document.createElement("div");e.className="hint",e.style.left="".concat(t.pageX,"px"),e.style.top="".concat(t.pageY+22,"px"),e.textContent="View definition",document.body.appendChild(e),t.target.addEventListener("mouseleave",function(){document.body.contains(e)&&document.body.removeChild(e)},{once:!0})},onMouseDown:function(t){var a=t.target.getBoundingClientRect(),s=document.createElement("div");s.className="definition",s.style.left="".concat(a.left,"px"),s.style.top="".concat(a.top,"px");var i=document.createElement("p");i.textContent=e,s.appendChild(i);var n=document.createElement("p");n.textContent=X[e],s.appendChild(n),document.body.appendChild(s),document.addEventListener("mousedown",function(){document.body.removeChild(s)},{once:!0})}},e)}var J=[i.a.createElement("h1",{key:"heading",className:"heading"},"To play Solitaire"),i.a.createElement("ol",{key:"ordered",className:"ordered"},i.a.createElement("li",null,"On the ",i.a.createElement("strong",null,"Game")," menu, click ",i.a.createElement("strong",null,"Deal"),". "),i.a.createElement("li",null,"Double-click any aces on the seven stacks to move them to the spaces at the upper right of the screen, and then make any other plays available on the board."),i.a.createElement("li",null,"When you have made all available plays on the board, click the deck to begin turning over cards.")),i.a.createElement("p",{key:"note",className:"note"},"Notes"),i.a.createElement("ul",{key:"unordered",className:"unordered"},i.a.createElement("li",null,"The card that is face up on the deck is always available for play."),i.a.createElement("li",null,"If you are using the ",i.a.createElement("strong",null,"Draw Three")," card option, click the deck to turn over the cards before you turn over any stack cards. This will give you an opportunity to see other play options that could increase your chances of winning."),i.a.createElement("li",null,"You will be building ",i.a.createElement(Y,null,"row stacks")," and ",i.a.createElement(Y,null,"suit stacks"),"."),i.a.createElement("li",null,"You build row stacks to free up cards that you need to build the suit stacks."),i.a.createElement("li",null,"To move a card or a stack of cards, from one row stack to another, click and ",i.a.createElement(Y,null,"drag")," the card or stack."),i.a.createElement("li",null,"To move a card from either the deck or a row stack to a suit stack, double-click it."),i.a.createElement("li",null,"To move all playable cards to their respective suit stacks, right-click the game board or press CTRL+A."),i.a.createElement("li",null,"After moving a card from a row stack to a suit stack or a different row stack, click the next card to turn it over."),i.a.createElement("li",null,"When a row stack is open (no cards in the row), you can move a king (along with any cards that might be in its stack) to the open row stack."))],Q=[i.a.createElement("h1",{key:"heading",className:"heading"},"To change game options"),i.a.createElement("ol",{key:"ordered",className:"ordered"},i.a.createElement("li",null,"On the ",i.a.createElement("strong",null,"Game")," menu, click ",i.a.createElement("strong",null,"Options"),"."),i.a.createElement("li",null,i.a.createElement("p",null,"For a more challenging game, select the Timed game check box to have your game timed."),i.a.createElement("p",null,"Select the ",i.a.createElement("strong",null,"Status bar")," check box to display the score and time played."),i.a.createElement("p",null,"Select the ",i.a.createElement("strong",null,"Outline dragging")," check box for the outline of a card (rather than the actual card itself) to appear while you ",i.a.createElement(Y,null,"drag")," the card to a new location."))),i.a.createElement("p",{key:"note",className:"note"},"Note"),i.a.createElement("ul",{key:"unordered",className:"unordered"},i.a.createElement("li",null,"To specify the design of the deck you would like to play with, click the ",i.a.createElement("strong",null,"Game")," menu, click ",i.a.createElement("strong",null,"Deck"),", and then make your selection."))];a(41);function V(t){var e=document.createElement("div");e.className="hint",e.style.left="".concat(t.pageX,"px"),e.style.top="".concat(t.pageY+22,"px"),e.textContent="Expand/collapse",document.body.appendChild(e),t.target.addEventListener("mouseleave",function(){document.body.contains(e)&&document.body.removeChild(e)},{once:!0}),document.addEventListener("mousedown",function(){document.body.contains(e)&&document.body.removeChild(e)},{once:!0})}function Z(t){if(t.target.classList.contains("title")){var e=t.target.parentElement.classList[0];this.setState(function(t){return t.selected=e,t.showing[e]=!t.showing[e],t})}}var q={standard:[i.a.createElement("p",{key:"paragraph",className:"paragraph"},"The ",i.a.createElement("strong",null,"Standard")," option works as follows:"),i.a.createElement("ul",{key:"unordered",className:"unordered"},i.a.createElement("li",null,"If you move a card to a suit stack, you get 10 points."),i.a.createElement("li",null,"If you move a card from the deck to a row stack, you get 5 points."),i.a.createElement("li",null,"If you turn over a card in a row stack, you get 5 points."),i.a.createElement("li",null,"If you move a card from a suit stack back to a row stack, you lose 15 points."),i.a.createElement("li",null,"If you are playing with the Draw Three option, you lose 20 points every time you go through the deck after the third time."),i.a.createElement("li",null,"If you are playing with the Draw One option, you lose 100 points every time you go through the deck after the first time."),i.a.createElement("li",null,"For timed games only, you lose 2 points every 10 seconds of play, and you receive bonus points at the end of the game. The shorter the game, the larger the bonus."))],vegas:[i.a.createElement("p",{key:"paragraph",className:"paragraph"},"The ",i.a.createElement("strong",null,"Vegas")," option works as follows:"),i.a.createElement("ul",{key:"unordered",className:"unordered"},i.a.createElement("li",null,"You start the game with a debt of 52 dollars, which represents your wager."),i.a.createElement("li",null,"You win 5 dollars for every card you play on a suit stack."),i.a.createElement("li",null,"The object of the game is to earn more money than you wagered."),i.a.createElement("li",null,"If you are playing with the Draw Three option, you can only go through the deck three times."),i.a.createElement("li",null,"If you are playing with the Draw One option, you can only go through the deck once."))],none:[i.a.createElement("p",{key:"paragraph",className:"paragraph"},"The ",i.a.createElement("strong",null,"None")," option works as follows:"),i.a.createElement("ul",{key:"unordered",className:"unordered"},i.a.createElement("li",null,"You start the game with no debt (wager) and no money."),i.a.createElement("li",null,"You can play the game with the timer turned on or off."),i.a.createElement("li",null,"The object of the game is to play all the cards. You don't win or lose any money."),i.a.createElement("li",null,"You can go through the deck as many times as you like whether you are playing with the ",i.a.createElement("strong",null,"Draw Three")," option or the ",i.a.createElement("strong",null,"Draw One")," option."))]},$=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).state={selected:null,showing:{standard:!1,vegas:!1,none:!1}},a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"componentDidUpdate",value:function(){this.props.isPageScrollable&&this.props.isPageScrollable()}},{key:"render",value:function(){var t=this,e=Object.keys(this.state.showing).map(function(e){var a=e;return t.state.showing[e]&&(a+=" showing"),t.state.selected===e&&(a+=" selected"),i.a.createElement("div",{key:e,className:a},i.a.createElement("span",{className:"title",onMouseEnter:V.bind(t)},e[0].toUpperCase()+e.slice(1)),t.state.showing[e]?q[e]:"")});return i.a.createElement("div",{className:"scoring-list",onMouseDown:Z.bind(this)},e)}}]),e}(s.Component),tt=function(t){return[i.a.createElement("h1",{key:"heading",className:"heading"},"To choose a scoring system"),i.a.createElement("ol",{key:"ordered",className:"ordered"},i.a.createElement("li",null,"On the ",i.a.createElement("strong",null,"Game")," menu, click ",i.a.createElement("strong",null,"Options"),"."),i.a.createElement("li",null,"Under Scoring, click one of the following options:",i.a.createElement($,{isPageScrollable:t}))),i.a.createElement("p",{key:"note",className:"note"},"Note"),i.a.createElement("ul",{key:"unordered",className:"unordered"},i.a.createElement("li",null,"On the ",i.a.createElement("strong",null,"Game")," menu, click ",i.a.createElement("strong",null,"Options")," to specify whether to draw one or three cards at a time. These options are scored slightly differently."))]},et=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).state={lastIndex:a.props.index},a.isPageScrollable=function(){a.refs.page.clientHeight===a.refs.page.parentElement.clientHeight?a.props.isPageScrollable(!1):a.props.isPageScrollable(!0)},a.pages={book:G,overview:G,play:J,options:Q,scoring:tt(a.isPageScrollable.bind(Object(K.a)(a)))},a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"componentDidUpdate",value:function(){this.refs.page&&this.props.index!==this.state.lastIndex&&0!==this.refs.page.parentElement.scrollTop&&(this.refs.page.parentElement.scrollTop=0),this.isPageScrollable(),this.props.index!==this.state.lastIndex&&this.setState({lastIndex:this.props.index})}},{key:"render",value:function(){var t=this.props.history.length>0?this.props.history[this.props.index]:"overview";return i.a.createElement("div",{className:"page",ref:"page"},this.pages[t])}}]),e}(s.Component),at=function(t){function e(){var t;return Object(N.a)(this,e),(t=Object(T.a)(this,Object(_.a)(e).call(this))).state={isShowingContents:!0,shift:0,isContentsOpened:!1,selected:"book",history:[],historyIndex:null,isContentsScrollable:!1,isPageScrollable:!1},t.contentsWidth=267,t.select=function(e){e!==t.state.history[t.state.historyIndex]&&t.setState(function(t){return t.selected=e,"book"===e?t.isContentsOpened=!t.isContentsOpened:(t.historyIndex!==t.history.length-1&&t.history.splice(t.historyIndex+1),t.history.push(e),t.historyIndex=t.history.length-1),t})},t.back=function(){0!==t.state.history.length&&0!==t.state.historyIndex&&t.setState(function(t){return t.historyIndex-=1,t})},t.forward=function(){0!==t.state.history.length&&t.state.historyIndex!==t.state.history.length-1&&t.setState(function(t){return t.historyIndex+=1,t})},t.isPageScrollable=function(e){t.state.isPageScrollable!==e&&t.setState({isPageScrollable:e})},t}return Object(j.a)(e,t),Object(D.a)(e,[{key:"render",value:function(){var t=this;this.refs.page&&this.refs.page.offsetWidth!==this.pageWidth&&(this.pageWidth=this.refs.page.offsetWidth);var e=this.state.isShowingContents?"hide":"show",a={width:"".concat(this.contentsWidth+this.state.shift,"px"),minWidth:"".concat(this.contentsWidth+this.state.shift,"px")},s={width:this.state.isShowingContents?"calc(100% - ".concat(this.contentsWidth+3+this.state.shift,"px)"):"100%"},n="back";0!==this.state.history.length&&0!==this.state.historyIndex||(n+=" inactive");var o="forward";0!==this.state.history.length&&this.state.historyIndex!==this.state.history.length-1||(o+=" inactive");var r="contents-wrapper";this.state.isContentsOpened&&this.contentsWidth+this.state.shift<184&&(r+=" scrollable");var c="page-container";return this.state.isPageScrollable&&(c+=" scrollable"),i.a.createElement("div",{className:"help-contetns",ref:"container"},i.a.createElement("div",{className:"buttons"},i.a.createElement("div",{className:e,onMouseDown:P.bind(this)},e.charAt(0).toUpperCase()+e.slice(1)),i.a.createElement("div",{className:n,onMouseDown:function(e){if(0===e.button){var a=e.target;a.classList.add("pressed"),document.addEventListener("mouseup",function(e){e.target===a&&t.back(),a.classList.remove("pressed")},{once:!0})}}},"Back"),i.a.createElement("div",{className:o,onMouseDown:function(e){if(0===e.button){var a=e.target;a.classList.add("pressed"),document.addEventListener("mouseup",function(e){e.target===a&&t.forward(),a.classList.remove("pressed")},{once:!0})}}},"Forward")),this.state.isShowingContents?i.a.createElement("div",{className:"contents-container",ref:"contents",style:a},i.a.createElement("div",{className:"tab"},i.a.createElement("div",{className:r},i.a.createElement(B,{isOpened:this.state.isContentsOpened,selected:this.state.selected,select:this.select})))):null,this.state.isShowingContents?i.a.createElement("div",{className:"separator",onMouseDown:U.bind(this)}):null,i.a.createElement("div",{className:c,ref:"page",style:s},i.a.createElement(et,{history:this.state.history,index:this.state.historyIndex,selected:this.state.history.length>0?this.state.history[this.state.historyIndex]:"overview",isPageScrollable:this.isPageScrollable.bind(this)})))}}]),e}(s.Component),st=Object(r.b)(function(t){return{window:t.window}},function(t){return{move:function(e){return t({type:"MOVE",payload:e})},resize:function(e){return t({type:"RESIZE",payload:e})},changeCursor:function(e){return t({type:"CHANGE_CURSOR",payload:e})},freezeCursor:function(e){return t({type:"FREEZE_CURSOR",payload:e})}}})(at);a(42);function it(){return i.a.createElement("div",{className:"bsod"},i.a.createElement("p",null,"A problem has been detected and Solitaire has been shut down to prevent damage to your computer."),i.a.createElement("p",null,"If this is the first time you've seen this stop error screen, do not attempt to close Solitaire further."),i.a.createElement("p",null,"Press F5 or refresh this page in any other way to make it as it should be."),i.a.createElement("p",null,"If problems continue, you have to admit that you are nasty and you shouldn't do such things that surely will break some other things."),i.a.createElement("p",null,"Technical information:"),i.a.createElement("p",null,"*** STOP: 0x00000007 (0x00000000, 0x00000000, 0x00000000, 0x00000000)"),i.a.createElement("p",null,"*** sol.exe -  STOP PRESSING RANDOM BUTTONS FOR PITY'S SAKE"))}a(43),a(44),a(45);function nt(t){var e={2:"center",3:"door"},a={ok:"ok",notok:"not-ok",empty:"empty",downturned:"closed back-".concat(t.back),upturned:"opened ".concat(t.value," ").concat(t.suit)};return e[t.draw]&&(a.upturned+=" ".concat(e[t.draw])),i.a.createElement("div",{"data-parent":t.parent,"data-index":t.index,className:"card ".concat(a[t.status])},t.children)}function ot(t){return i.a.createElement(nt,{key:t.code,back:t.back,value:t.value,suit:t.suit,status:t.status,children:t.children,parent:t.parent,index:t.index,left:t.left,top:t.top,draw:t.draw})}var rt=Object(r.b)(function(t){return{game:t.game}})(function(t){return i.a.createElement("div",{className:"deck"},t.game.cards.deck.length?t.game.cards.deck.map(function(e,a){return ot(Object(l.a)({},e,{parent:"deck",index:a,back:t.game.options.back}))}):t.game.status.rollThrough?ot({status:"ok"}):ot({status:"notok"}))});a(46);var ct=Object(r.b)(function(t){return{game:t.game}})(function(t){return i.a.createElement("div",{className:"waste by-".concat(t.game.options.draw)},t.game.cards.waste.map(function(t,e){return ot(Object(l.a)({},t,{parent:"waste",index:e}))}))});a(47);var dt=Object(r.b)(function(t){return{game:t.game}})(function(t){return t.game.cards.tableau.map(function(e,a){return i.a.createElement("div",{key:"t-".concat(a),className:"tableau tableau-".concat(a)},e.length>0?function t(e,a,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return ot(Object(l.a)({},e[0],{back:s,parent:"tableau-".concat(a),index:i,children:e.length>1&&t(e.slice(1,e.length),a,s,++i)}))}(e,a,t.game.options.back):"")})});a(48);var lt=Object(r.b)(function(t){return{game:t.game}})(function(t){return t.game.cards.foundation.map(function(e,a){return i.a.createElement("div",{key:"f-".concat(a),className:"foundation foundation-".concat(a),ref:function(e){return t.refs(e,a)}},e.length>0?e.map(function(t,e){return ot(Object(l.a)({},t,{status:"upturned",parent:"foundation-".concat(a),index:e}))}):"")})}),pt=function(t){function e(){return Object(N.a)(this,e),Object(T.a)(this,Object(_.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(D.a)(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t=this;return i.a.createElement("canvas",{width:this.props.width,height:this.props.height,ref:function(e){return e?t.props.contextRef(e.getContext("2d")):null}})}}]),e}(s.Component),ut=a(22),mt=a.n(ut),gt=new Image;gt.src=mt.a;var ht=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).saveContext=a.saveContext.bind(Object(K.a)(a)),a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"saveContext",value:function(t){this.ctx=t}},{key:"componentDidMount",value:function(){this.ctx.imageSmoothingEnabled=!1}},{key:"componentDidUpdate",value:function(){var t=this.props.render,e=t.cx,a=t.cy,s=t.cardWidth,i=t.cardHeight,n=t.x,o=t.y;this.ctx.drawImage(gt,e,a,s,i,n,o,s,i)}},{key:"render",value:function(){return i.a.createElement(pt,{width:this.props.width,height:this.props.height,contextRef:this.saveContext})}}]),e}(s.Component),ft=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).state={render:!1},a.currentFoundation=0,a.cardWidth=71,a.cardHeight=96,a.suits={hearts:0,clubs:a.cardWidth,diamonds:2*a.cardWidth,spades:3*a.cardWidth},a.throwCards=function(){if(a.props.game.cards.foundation[a.currentFoundation].length>0){var t=a.suits[a.props.game.cards.foundation[a.currentFoundation][a.props.game.cards.foundation[a.currentFoundation].length-1].suit],e=Math.floor((p[a.props.game.cards.foundation[a.currentFoundation][a.props.game.cards.foundation[a.currentFoundation].length-1].value]-1)*a.cardHeight),s=Math.round(5*Math.random()+4)/10,i=Math.floor(2*Math.random())-1;i=i||1;var n=Math.round(i*Math.round(7*Math.random()+1)),o=Math.round(6*Math.random()-6)-2,r=a.props.foundations[a.currentFoundation],c=6;a.animation=requestAnimationFrame(function i(){if(c+=o,(r+=n)<-a.cardWidth||r>a.props.width)return a.props.shootCard(a.currentFoundation),a.currentFoundation+=1,a.currentFoundation>3&&(a.currentFoundation=0),void(a.animation=requestAnimationFrame(a.throwCards));c>a.props.height-a.cardHeight&&(c=a.props.height-a.cardHeight,o>0&&o<=2?(o=-2,s=.5):o=.85*-o),o+=s,a.setState({render:{cx:t,cy:e,cardWidth:a.cardWidth,cardHeight:a.cardHeight,x:r,y:c}}),a.animation=requestAnimationFrame(i)})}else a.currentFoundation<3?(a.currentFoundation+=1,a.animation=requestAnimationFrame(a.throwCards)):(cancelAnimationFrame(a.animation),a.props.stopCelebrating())},a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"componentDidMount",value:function(){this.animation=requestAnimationFrame(this.throwCards)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.animation)}},{key:"render",value:function(){return i.a.createElement(ht,{width:this.props.width,height:this.props.height,render:this.state.render})}}]),e}(s.Component),vt=Object(r.b)(function(t){return{game:t.game,window:t.window}},function(t){return{shootCard:function(e){return t({type:"SHOOT_CARD",payload:e})},stopCelebrating:function(){t({type:"STOP_CELEBRATING"}),t({type:"SHOW_WINDOW",payload:"restart"})}}})(ft),yt=a(23);function wt(t,e){if(t.classList.value.match(/card opened/)){var a={value:t.classList[2],suit:t.classList[3],parent:t.dataset.parent,index:parseInt(t.dataset.index)};if(e.classList.value.match(/card opened/)){var s={value:e.classList[2],suit:e.classList[3],parent:e.dataset.parent,index:parseInt(e.dataset.index)};if(p[a.value]===p[s.value]+1&&s.parent.match(/foundation/)&&a.suit===s.suit)return{from:{parent:a.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(a.parent.match(/\d/)),index:a.index},to:{parent:s.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(s.parent.match(/\d/)),index:s.index}};if(p[a.value]+1===p[s.value]&&s.parent.match(/tableau/)&&yt[a.suit]!==s.suit&&a.suit!==s.suit&&0===e.children.length)return{from:{parent:a.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(a.parent.match(/\d/)),index:a.index},to:{parent:s.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(s.parent.match(/\d/)),index:s.index}}}else{if(e.classList.value.match(/foundation/))return"ace"===a.value&&{from:{parent:a.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(a.parent.match(/\d/)),index:a.index},to:{parent:e.classList[0],parent_index:parseInt(e.classList[1].match(/\d/)),index:NaN}};if(e.classList.value.match(/tableau/))return"king"===a.value&&{from:{parent:a.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(a.parent.match(/\d/)),index:a.index},to:{parent:e.classList[0],parent_index:parseInt(e.classList[1].match(/\d/)),index:NaN}}}}return!1}function bt(t){var e=this;if(!this.props.window.solitaire.isBlocked)if("solitaire"!==this.props.window.activity[this.props.window.activity.length-1]&&this.props.activate(),0===t.button){if(this.props.game.status.isPlaying||this.startGame(),!(!t.target.classList.contains("card")||t.target.attributes.getNamedItem("data-parent")&&"waste"===t.target.dataset.parent&&this.props.game.cards.waste.length!==parseInt(t.target.dataset.index)+1||t.target.attributes.getNamedItem("data-parent")&&"deck"===t.target.dataset.parent&&this.props.game.cards.deck.length!==parseInt(t.target.dataset.index)+1))if(t.stopPropagation(),t.target.classList.contains("opened")){var a=t.target,s=!1,i=null,n=a.parentElement,o=this.props.game.options.outline;o&&((a=a.cloneNode(!0)).classList.add("outline"),a.style.display="none",n.appendChild(a)),a.style.zIndex=69;var r=t.pageX,c=t.pageY,d=function(t){"none"===a.style.display&&(a.style.display=""),a.style.transform="translate(".concat(t.pageX-r,"px,").concat(t.pageY-c,"px)");var e=function(t,e){var s=document.elementsFromPoint(t,e);return s.includes(a)?s[s.indexOf(a)+1]:s[0]},n=a.getBoundingClientRect(),d={left_top:e(n.left+1,n.top+1),right_top:e(n.left+69,n.top+1),left_bottom:e(n.left+1,n.top+94),right_bottom:e(n.left+69,n.top+94)},l=0;for(var p in d){l++;var u=d[p];if(u&&u.classList&&u.parentElement&&u!==a){if(u===i)break;if(u.classList.contains("card")){if(u.classList.contains("opened")&&!u.parentElement.classList.contains("waste")&&wt(a,u)){s=wt(a,u),null!==i&&o&&i.classList.remove("inverted"),i=u,o&&i.classList.add("inverted");break}}else{if((u.classList.contains("tableau")||u.classList.contains("foundation"))&&wt(a,u)){s=wt(a,u),null!==i&&o&&i.classList.remove("inverted"),i=u,o&&i.classList.add("inverted");break}4===l&&null!==i&&(o&&i.classList.remove("inverted"),i=null,s=!1)}}else 4===l&&null!==i&&(o&&i.classList.remove("inverted"),i=null,s=!1)}};document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",d),o?n.removeChild(a):(a.style.transform="",a.style.zIndex=""),i&&(e.props.drop.bind(e)(s),o&&i.classList.remove("inverted"))},{once:!0}),document.addEventListener("mousemove",d)}else t.target.parentElement.classList.contains("deck")&&!t.target.classList.contains("not-ok")?this.props.draw.bind(this)(this.props.game.options.draw):t.target.classList.contains("closed")&&0===t.target.children.length&&this.props.turn.bind(this)({parent:t.target.dataset.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(t.target.dataset.parent.match(/\d/)),index:parseInt(t.target.dataset.index)})}else 2===t.button&&this.props.fundAll()}function kt(t){this.props.window.solitaire.isBlocked||0!==t.button||!t.target.classList.contains("opened")||!t.target.attributes.getNamedItem("data-parent")||t.target.dataset.parent.match("foundation")||"waste"===t.target.dataset.parent&&this.props.game.cards.waste.length!==parseInt(t.target.dataset.index)+1||this.props.fundOne.bind(this)({parent:t.target.dataset.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(t.target.dataset.parent.match(/\d/)),index:parseInt(t.target.dataset.index)})}var Et=new Blob(["\nlet time = 0;\nsetInterval('postMessage(++time)', 1000);\n"],{type:"application/javascript"}),St=URL.createObjectURL(Et),Ot=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).foundations=[],a.foundationsOffsets=[257,339,421,503],a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"startTimer",value:function(){var t=this;this.timer=new Worker(St),this.timer.onmessage=function(e){t.props.tick(e.data)}}},{key:"stopTimer",value:function(){this.timer.terminate(),this.timer=void 0}},{key:"startGame",value:function(){this.props.startGame(),this.props.game.options.timed&&void 0===this.timer&&this.startTimer()}},{key:"foundationsRef",value:function(t,e){this.foundations[e]=t}},{key:"render",value:function(){var t=this;return this.props.game.status.isPlaying&&this.props.game.options.timed||void 0===this.timer||this.stopTimer(),52===this.props.game.status.cardsInFoundation?(!this.props.game.status.isCelebrating&&this.props.game.status.isPlaying&&this.props.startCelebrating(),i.a.createElement("div",{className:"table-wrapper",ref:"table"},this.props.game.status.isCelebrating&&this.refs.table?i.a.createElement(vt,{width:this.refs.table.clientWidth,height:this.refs.table.clientHeight,foundations:this.foundationsOffsets}):"")):(this.foundations.forEach(function(e,a){e&&e.offsetLeft&&t.foundationsOffsets[a]!==e.offsetLeft&&(t.foundationsOffsets[a]=e.offsetLeft)}),i.a.createElement("div",{className:"table-wrapper",ref:"table"},i.a.createElement("div",{className:"table",onMouseDown:bt.bind(this),onDoubleClick:kt.bind(this)},i.a.createElement(rt,null),i.a.createElement(ct,null),i.a.createElement(lt,{refs:this.foundationsRef.bind(this)}),i.a.createElement(dt,null))))}}]),e}(s.PureComponent),Ct=Object(r.b)(function(t){return{game:t.game,window:t.window}},function(t){return{draw:function(e){return t({type:"DRAW",payload:e})},drop:function(e){return t({type:"DROP",payload:e})},turn:function(e){return t({type:"TURN",payload:e})},fundOne:function(e){return t({type:"FUND_ONE",payload:e})},fundAll:function(){return t({type:"FUND_ALL"})},activate:function(){return t({type:"ACTIVATE",payload:"solitaire"})},startGame:function(){return t({type:"START_GAME"})},tick:function(e){return t({type:"TICK",payload:e})},startCelebrating:function(){return t({type:"START_CELEBRATING"})}}})(Ot);a(49);function xt(t){var e=this;if("solitaire"===this.props.name&&this.props.game.status.isCelebrating)this.props.stopCelebrating();else if(this.props.window.activity[this.props.window.activity.length-1]!==this.props.name&&this.props.activate(this.props.name),0===t.button&&!this.props.window[this.props.name].isBlocked){var a=null;if(t.target.classList.contains("window"))a=t.target;else{if(!(t.target.classList.contains("window__header")||t.target.classList.contains("window__icon")||t.target.classList.contains("window__caption")))return;a=t.target.parentElement}var s=t.pageX,i=t.pageY,n=a.offsetLeft,o=a.offsetTop,r=function(t){!e.props.window.isCursorFreezed&&e.props.freezeCursor(!0),document.addEventListener("mousemove",t),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",t),e.props.window.isCursorFreezed&&e.props.freezeCursor(!1)},{once:!0})};if(this.props.window.cursor){if(!this.props.window[this.props.name].isResizable)return;var c=a.clientHeight,d=a.clientWidth,l=function(t){t.pageY>document.documentElement.clientHeight||t.pageY<0||e.props.resize({window:e.props.name,top:a.offsetTop,height:t.pageY-i+c})},p=function(t){t.pageY>document.documentElement.clientHeight||t.pageY<0||i-t.pageY+c>37&&e.props.resize({window:e.props.name,top:t.pageY-i+o,height:i-t.pageY+c})},u=function(t){t.pageX>document.documentElement.clientWidth||t.pageX<0||e.props.resize({window:e.props.name,left:a.offsetLeft,width:t.pageX-s+d})},m=function(t){t.pageX>document.documentElement.clientHeight||t.pageX<0||s-t.pageX+d>145&&e.props.resize({window:e.props.name,left:t.pageX-s+n,width:s-t.pageX+d})},g={x:a.offsetLeft+a.clientLeft+a.clientWidth/2,y:a.offsetTop+a.clientTop+a.clientHeight/2};switch(this.props.window.cursor){case"nwse-resize":t.pageX<g.x&&t.pageY<g.y?r(function(t){m(t),p(t)}):t.pageX>g.x&&t.pageY>g.y&&r(function(t){u(t),l(t)});break;case"nesw-resize":t.pageX<g.x&&t.pageY>g.y?r(function(t){m(t),l(t)}):t.pageX>g.x&&t.pageY<g.y&&r(function(t){u(t),p(t)});break;case"ns-resize":t.pageY>g.y?r(l):t.pageY<g.y&&r(p);break;case"ew-resize":t.pageX<g.x?r(m):t.pageX>g.x&&r(u)}}else if(t.target.classList.contains("window__header")||t.target.classList.contains("window__icon")||t.target.classList.contains("window__caption")){if(this.props.window[this.props.name].isMaximized||this.props.window[this.props.name].isMinimized)return;r(function(t){e.props.move({window:e.props.name,left:t.pageX-s+n,top:t.pageY-i+o})})}}}var It=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).props.window[a.props.name].isResizable&&(a.handleMouseMove=function(t){if(!(this.props.window[this.props.name].isBlocked||this.props.window[this.props.name].isMaximized||this.props.window[this.props.name].isMinimized||this.props.window.isCursorFreezed)){var e=null;if(t.target.classList.contains("window"))e=t.target;else{if(!t.target.classList.contains("window__header"))return void(null!==this.props.window.cursor&&this.props.changeCursor({window:this.props.name,cursor:null}));e=t.target.offsetParent}var a={left:e.offsetLeft+e.clientLeft,right:e.offsetLeft+e.clientLeft+e.clientWidth,top:e.offsetTop-26,bottom:e.offsetTop-26+e.clientTop},s={left:a.left,right:a.right,top:e.offsetTop+e.clientTop+e.clientHeight,bottom:e.offsetTop+2*e.clientTop+e.clientHeight},i={left:e.offsetLeft,right:a.left,top:a.bottom,bottom:s.top},n={left:a.right,right:a.right+e.clientLeft,top:a.bottom,bottom:s.top},o=i.left,r=i.right,c=a.top,d=a.bottom,l=n.left,p=n.right,u=a.top,m=a.bottom,g=i.left,h=i.right,f=s.top,v=s.bottom,y=n.left,w=n.right,b=s.top,k=s.bottom,E=function(t,e){if(!(t>=i.right&&t<=n.left&&e>=a.bottom&&e<=s.top))return t>=a.left&&t<=a.right&&e>=a.top&&e<=a.bottom||t>=s.left&&t<=s.right&&e>=s.top&&e<=s.bottom?"ns-resize":t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom||t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom?"ew-resize":t>=o&&t<=r&&e>=c&&e<=d||t>y&&t<=w&&e>=b&&e<=k?"nwse-resize":t>=g&&t<=h&&e>=f&&e<=v||t>=l&&t<=p&&e>=u&&e<=m?"nesw-resize":void 0}(t.pageX,t.pageY);void 0!==E?this.props.window.cursor!==E&&this.props.changeCursor({window:this.props.name,cursor:E}):null!==this.props.window.cursor&&this.props.changeCursor({window:this.props.name,cursor:null})}}.bind(Object(K.a)(a)),a.handleMouseLeave=function(){null===a.props.window[a.props.name].cursor||a.props.window.isCursorFreezed||a.props.changeCursor({window:a.props.name,cursor:null})},a.handleDoubleClick=function(){a.props.window[a.props.name].isBlocked||(a.props.window[a.props.name].isMaximized?a.props.restore.bind(Object(K.a)(a))(a.props.name):a.props.window[a.props.name].isMinimized||a.props.maximize.bind(Object(K.a)(a))(a.props.name),null!==a.props.window.cursor&&a.props.changeCursor({window:a.props.name,cursor:null}))}),a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"render",value:function(){var t=this,e=this.props.window[this.props.name],a=e.buttons.map(function(e){return i.a.createElement("div",{key:t.props.name+e,className:"window__button window__button_".concat(e),onMouseDown:function(a){if("solitaire"===t.props.name&&t.props.game.status.isCelebrating)return a.stopPropagation(),void t.props.stopCelebrating();if("restart"!==t.props.name&&!t.props.window[t.props.name].isBlocked){var s=a.target;0===a.button&&document.addEventListener("mouseup",function(a){s===a.target&&t.props[e].bind(t)(t.props.name)},{once:!0})}}})}),s="window ".concat(this.props.name);return this.props.window.activity[this.props.window.activity.length-1]===this.props.name?s+=" active":s+=" inactive",this.props.window[this.props.name].isResizable&&(this.props.window[this.props.name].isMinimized?s+=" minimized":this.props.window[this.props.name].isMaximized&&(s+=" maximized")),this.props.window[this.props.name].alert&&(s+=" alert",setTimeout(function(){t.props.window[t.props.name].alert&&t.props.cancelAlert(t.props.name)},800)),this.props.window[this.props.name].isBlocked&&(s+=" blocked"),i.a.createElement("div",{className:s,onMouseDown:xt.bind(this),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,style:{width:Number.isFinite(e.style.width)?"".concat(e.style.width,"px"):e.style.width,height:Number.isFinite(e.style.height)?"".concat(e.style.height,"px"):e.style.height,left:Number.isFinite(e.style.left)?"".concat(e.style.left,"px"):"calc(50vw - ".concat(e.style.width/2,"px)"),top:Number.isFinite(e.style.top)?"".concat(e.style.top,"px"):"calc(50vh - ".concat(e.style.height/2,"px)"),zIndex:this.props.window.activity.indexOf(this.props.name)}},i.a.createElement("div",{className:"window__header",onDoubleClick:this.handleDoubleClick}),"solitaire"===this.props.name||"help"===this.props.name?i.a.createElement("div",{className:"window__icon"}):"",i.a.createElement("div",{className:"window__caption"},e.caption),a,this.props.children)}}]),e}(s.Component),Nt=Object(r.b)(function(t){return{game:t.game,window:t.window}},function(t){return{move:function(e){return t({type:"MOVE",payload:e})},resize:function(e){return t({type:"RESIZE",payload:e})},minimize:function(e){return t({type:"MINIMIZE",payload:e})},maximize:function(e){return t({type:"MAXIMIZE",payload:e})},restore:function(e){return t({type:"RESTORE",payload:e})},help:function(){return t({type:"SHOW_WINDOW",payload:"help"})},activate:function(e){return t({type:"ACTIVATE",payload:e})},freezeCursor:function(e){return t({type:"FREEZE_CURSOR",payload:e})},changeCursor:function(e){return t({type:"CHANGE_CURSOR",payload:e})},cancelAlert:function(e){return t({type:"CANCEL_ALERT",payload:e})},close:function(e){"solitaire"===e&&t({type:"STOP_GAME"}),t({type:"CLOSE",payload:e})},stopCelebrating:function(){t({type:"STOP_CELEBRATING"}),t({type:"SHOW_WINDOW",payload:"restart"})}}})(It);a(50),a(51);function Dt(t){var e="input-label",a="input-".concat(t.type);return t.checked&&(a+=" checked"),t.disabled&&(a+=" disabled",e+=" disabled"),i.a.createElement("div",{className:"input-container",onMouseDown:function(e){if(t.click&&0===e.button){var a=e.target;document.addEventListener("mouseup",function(e){e.target===a&&t.click()},{once:!0})}}},i.a.createElement("div",{className:a}),i.a.createElement("div",{className:e},t.label))}var Tt=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).state=Object(l.a)({},a.props.game.options),a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"options-contents"},i.a.createElement("div",{className:"section-1"},i.a.createElement("div",{className:"fieldset"},i.a.createElement("div",{className:"legend"},"Draw"),i.a.createElement(Dt,{type:"radio",checked:"one"===this.state.draw,label:"Draw One",click:function(){t.setState({draw:"one"})}}),i.a.createElement(Dt,{type:"radio",checked:"three"===this.state.draw,label:"Draw Three",click:function(){t.setState({draw:"three"})}})),i.a.createElement(Dt,{type:"checkbox",checked:this.state.timed,label:"Timed game",click:function(){t.setState({timed:!t.state.timed})}}),i.a.createElement(Dt,{type:"checkbox",checked:this.state.status,label:"Status bar",click:function(){t.setState({status:!t.state.status})}}),i.a.createElement(Dt,{type:"checkbox",checked:this.state.outline,label:"Outline dragging",click:function(){t.setState({outline:!t.state.outline})}})),i.a.createElement("div",{className:"section-2"},i.a.createElement("div",{className:"fieldset"},i.a.createElement("div",{className:"legend"},"Scoring"),i.a.createElement(Dt,{type:"radio",label:"Standart",checked:"standard"===this.state.scoring,click:function(){t.setState({scoring:"standard"})}}),i.a.createElement(Dt,{type:"radio",label:"Vegas",checked:"vegas"===this.state.scoring,click:function(){t.setState({scoring:"vegas"})}}),i.a.createElement(Dt,{type:"radio",label:"None",checked:"none"===this.state.scoring,click:function(){t.setState({scoring:"none"})}})),i.a.createElement(Dt,{type:"checkbox",checked:this.state.cumulative,disabled:!("vegas"===this.state.scoring),click:function(){"vegas"===t.state.scoring&&t.setState({cumulative:!t.state.cumulative})},label:"Cumulative Score"}),i.a.createElement(F,{type:"ok",selected:!0,click:function(){t.props.game.options.scoring!==t.state.scoring||t.props.game.options.draw!==t.state.draw||t.props.game.options.timed!==t.state.timed?t.props.setAndDeal(t.state):t.props.set(t.state),t.props.close()}}),i.a.createElement(F,{type:"cancel",click:function(){t.props.close()}})))}}]),e}(s.Component),_t=Object(r.b)(function(t){return{game:t.game}},function(t){return{close:function(){return t({type:"CLOSE",payload:"options"})},set:function(e){return t({type:"SET_OPTIONS",payload:e})},setAndDeal:function(e){t({type:"SET_OPTIONS",payload:e}),t({type:"DEAL"})}}})(Tt);a(52);var jt=Object(r.b)(null,function(t){return{close:function(){return t({type:"CLOSE",payload:"restart"})},closeAndDeal:function(){t({type:"CLOSE",payload:"restart"}),t({type:"DEAL"})}}})(function(t){return i.a.createElement("div",{className:"restart"},i.a.createElement("div",{className:"restart-icon"}),i.a.createElement("div",{className:"restart-message"},"Deal Again?"),i.a.createElement(F,{type:"ok",selected:!0,click:t.closeAndDeal}),i.a.createElement(F,{type:"cancel",click:t.close}))});a(53);var Lt=Object(r.b)(function(t){return{game:t.game,window:t.window}})(function(t){var e=t.game.status.score,a="score";return"vegas"===t.game.options.scoring&&(e<0?(e="-$".concat(Math.abs(e)),a+=" red"):e="$".concat(e)),i.a.createElement("div",{className:"status-bar"},i.a.createElement("div",{className:"description"},t.game.status.isCelebrating&&t.game.status.bonus>0?"Bonus: ".concat(t.game.status.bonus," Press Esc or a mouse button to stop..."):t.window.solitaire.status.description),i.a.createElement("div",{className:"status"},"none"!==t.game.options.scoring?i.a.createElement("div",{className:a},"Score: ",e):"",t.game.options.timed?i.a.createElement("div",{className:"time"},"Time: ",t.game.status.time):""))});a(54);var At=Object(r.b)(function(t){return{game:t.game}},function(t){return{close:function(){return t({type:"CLOSE",payload:"statistics"})}}})(function(t){var e=[{caption:"Games played:",items:[["Standard scoring:",t.game.statistics.played.standard.toString()],["Vegas scoring:",t.game.statistics.played.vegas.toString()],["Without scoring:",t.game.statistics.played.none.toString()]]},{caption:"Games won:",items:[["Standard scoring:",t.game.statistics.won.standard.toString()],["Vegas scoring:",t.game.statistics.won.vegas.toString()],["Without scoring:",t.game.statistics.won.none.toString()]]},{caption:"Higest score:",items:[["Standard scoring:",t.game.statistics.hiScore.standard.normal.toString()],["Standard scoring with time:",t.game.statistics.hiScore.standard.timed.toString()],["Vegas scoring:",t.game.statistics.hiScore.vegas.toString()]]},{items:[["Best time:",t.game.statistics.bestTime===1/0?"\u221e":t.game.statistics.bestTime.toString()]]}];return i.a.createElement("div",{className:"statistics-contents"},i.a.createElement("div",{className:"logo"},"Solitaire"),e.map(function(t,e){return i.a.createElement("div",{key:"statistics".concat(e),className:"statistics-item"},t.caption?i.a.createElement("div",{className:"statistics-caption"},t.caption):"",i.a.createElement("ul",{className:"list"},t.items.map(function(t,e){return i.a.createElement("li",{key:"list".concat(e)},i.a.createElement("span",null,t[0]),i.a.createElement("span",null),i.a.createElement("span",null,t[1]))})))}),i.a.createElement(F,{type:"ok",selected:!0,click:t.close}))}),Mt=function(t){function e(t){var a;return Object(N.a)(this,e),(a=Object(T.a)(this,Object(_.a)(e).call(this,t))).state={key:null,bsod:!1},a}return Object(j.a)(e,t),Object(D.a)(e,[{key:"handleKeyDown",value:function(t){t.which===this.state.key||!this.props.window.solitaire.isShowing||"solitaire"!==this.props.window.activity[this.props.window.activity.length-1]||this.props.window.solitaire.isMinimized||112!==t.which&&113!==t.which&&17!==t.which&&65!==t.which||(112===t.which?this.props.help():113===t.which?this.props.deal():17===t.which||65===t.which&&17===this.state.key&&this.props.fundAll(),this.setState({key:t.which}))}},{key:"handleKeyUp",value:function(t){t.which===this.state.key&&this.setState({key:null})}},{key:"handleRightMouseButton",value:function(t){t.preventDefault()}},{key:"handleMouseDown",value:function(t){t.target.classList.contains("root")&&this.props.deactivate()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyUp.bind(this)),document.addEventListener("contextmenu",this.handleRightMouseButton),document.addEventListener("mousedown",this.handleMouseDown.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown.bind(this)),document.removeEventListener("keyup",this.handleKeyUp.bind(this)),document.removeEventListener("contextmenu",this.handleRightMouseButton),document.removeEventListener("mousedown",this.handleMouseDown.bind(this))}},{key:"render",value:function(){var t=this;if(this.state.bsod)return i.a.createElement(it,null);var e="root";return this.props.window.solitaire.isShowing?this.props.window.cursor&&(e+=" ".concat(this.props.window.cursor)):(!window.history.back()&&setTimeout(function(){t.setState({bsod:!0})},2e3),e+=" wait"),i.a.createElement("div",{className:e},this.props.window.solitaire.isShowing&&i.a.createElement(Nt,{name:"solitaire",children:[i.a.createElement(z,{key:"menu",parent:"solitaire"}),i.a.createElement(Ct,{key:"table"}),this.props.game.options.status?i.a.createElement(Lt,{key:"statusBar"}):""]}),this.props.window.back.isShowing&&i.a.createElement(Nt,{name:"back",children:i.a.createElement(W,null)}),this.props.window.options.isShowing&&i.a.createElement(Nt,{name:"options",children:i.a.createElement(_t,null)}),this.props.window.help.isShowing&&i.a.createElement(Nt,{name:"help",children:i.a.createElement(st,null)}),this.props.window.statistics.isShowing&&i.a.createElement(Nt,{name:"statistics",children:i.a.createElement(At,null)}),this.props.window.restart.isShowing&&i.a.createElement(Nt,{name:"restart",children:i.a.createElement(jt,null)}))}}]),e}(s.Component),Ht=Object(r.b)(function(t){return{game:t.game,window:t.window}},function(t){return{deal:function(){return t({type:"DEAL"})},help:function(){return t({type:"SHOW_WINDOW",payload:"help"})},deactivate:function(){return t({type:"DEACTIVATE"})},fundAll:function(){return t({type:"FUND_ALL"})}}})(Mt);o.a.render(i.a.createElement(r.a,{store:I},i.a.createElement(Ht,null)),document.getElementById("root"))}],[[24,1,2]]]);