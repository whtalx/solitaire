(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e){e.exports={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,ace:1,jack:11,queen:12,king:13}},,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/deck.34fec139.png"},function(e){e.exports={hearts:"diamonds",diamonds:"hearts",spades:"clubs",clubs:"spades"}},function(e,t,a){e.exports=a(56)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(14),o=a.n(i),r=a(2),c=a(10),l=a(21),d=a(11),u=a(1),p=a(9);function m(e,t){for(var a=0;a<t.length;a++){if(0===t[a].length&&"ace"===e.value)return a;if(t[a].length>0&&e.suit===t[a][t[a].length-1].suit&&p[e.value]===p[t[a][t[a].length-1].value]+1)return a}return!1}var h={standard:{start:0,wasteToTableau:5,wasteToFoundation:10,tableauToFoundation:10,turn:5,undo:-2,undoTableauToFoundation:-8,undoWasteToFoundation:-10,undoFoundationToTableau:15,foundationToTableau:-15,recycleWaste:-100,time:-2},vegas:{start:-52,wasteToTableau:0,wasteToFoundation:5,tableauToFoundation:5,turn:0,undo:0,undoTableauToFoundation:-5,undoWasteToFoundation:-5,undoFoundationToTableau:5,foundationToTableau:-5,recycleWaste:0,time:0},none:{start:0,wasteToTableau:0,wasteToFoundation:0,tableauToFoundation:0,turn:0,undo:0,undoTableauToFoundation:0,undoWasteToFoundation:0,undoFoundationToTableau:0,foundationToTableau:0,recycleWaste:0,time:0}};function g(e){var t=h[e.scoring].start;return"vegas"===e.scoring&&e.cumulative&&(localStorage.getItem("score")&&(t+=parseInt(localStorage.getItem("score"))),localStorage.setItem("score",t)),t}function f(e,t){var a=e.status.score;return a+=h[e.options.scoring][t],"vegas"===e.options.scoring&&e.options.cumulative&&localStorage.setItem("score",a),"standard"===e.options.scoring&&a<0&&(a=0),a}function y(e){for(var t={},a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return n.forEach(function(a){switch(a){case"waste":case"deck":t[a]=Object(d.a)(e.cards[a]);break;case"foundation":case"tableau":t[a]=e.cards[a].map(function(e){return e.map(function(e){return Object(u.a)({},e)})})}}),t}function w(e){for(var t=Object(u.a)({},e),a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return n.forEach(function(e){switch(e){case"won":t.statistics.won[t.options.scoring]+=1,localStorage.setItem("won_".concat(t.options.scoring),t.statistics.won[t.options.scoring]);break;case"played":t.statistics.played[t.options.scoring]+=1,localStorage.setItem("played_".concat(t.options.scoring),t.statistics.played[t.options.scoring]);break;case"score":"standard"===t.options.scoring?t.options.timed?(t.status.time>30&&(t.status.bonus=Math.floor(7e5/t.status.time),t.status.score+=t.status.bonus),t.statistics.hiScore.standard.timed<t.status.score&&(t.statistics.hiScore.standard.timed=t.status.score,localStorage.setItem("hiScore_standard_timed",t.statistics.hiScore.standard.timed))):!t.options.timed&&t.statistics.hiScore.standard.normal<t.status.score&&(t.statistics.hiScore.standard.normal=t.status.score,localStorage.setItem("hiScore_standard_normal",t.statistics.hiScore.standard.normal)):"vegas"===t.options.scoring&&t.statistics.hiScore.vegas<t.status.score&&(t.statistics.hiScore.vegas=t.status.score,localStorage.setItem("hiScore_vegas",t.statistics.hiScore.vegas));break;case"time":t.options.timed&&t.statistics.bestTime>t.status.time&&(t.statistics.bestTime=t.status.time,localStorage.setItem("bestTime",t.statistics.bestTime))}}),t}var b={draw:localStorage.getItem("cards_draw")?localStorage.getItem("cards_draw"):"one",scoring:localStorage.getItem("scoring_type")?localStorage.getItem("scoring_type"):"standard",cumulative:localStorage.getItem("score_cumulative")&&"true"===localStorage.getItem("score_cumulative"),timed:localStorage.getItem("game_timed")&&"true"===localStorage.getItem("game_timed"),status:!localStorage.getItem("game_statusbar")||"true"===localStorage.getItem("game_statusbar"),outline:localStorage.getItem("cards_outline")&&"true"===localStorage.getItem("cards_outline"),back:localStorage.getItem("cards_back")?parseInt(localStorage.getItem("cards_back")):Math.round(11*Math.random())},v={cards:{deck:[],waste:[],foundation:[[],[],[],[]],tableau:[[],[],[],[],[],[],[]]},options:b,statistics:{played:{standard:localStorage.getItem("played_standard")?parseInt(localStorage.getItem("played_standard")):0,vegas:localStorage.getItem("played_vegas")?parseInt(localStorage.getItem("played_vegas")):0,none:localStorage.getItem("played_none")?parseInt(localStorage.getItem("played_none")):0},won:{standard:localStorage.getItem("won_standard")?parseInt(localStorage.getItem("won_standard")):0,vegas:localStorage.getItem("won_vegas")?parseInt(localStorage.getItem("won_vegas")):0,none:localStorage.getItem("won_none")?parseInt(localStorage.getItem("won_none")):0},hiScore:{standard:{normal:localStorage.getItem("hiScore_standard_normal")?parseInt(localStorage.getItem("hiScore_standard_normal")):0,timed:localStorage.getItem("hiScore_standard_timed")?parseInt(localStorage.getItem("hiScore_standard_timed")):0},vegas:localStorage.getItem("hiScore_vegas")?parseInt(localStorage.getItem("hiScore_vegas")):0},bestTime:localStorage.getItem("bestTime")?parseInt(localStorage.getItem("bestTime")):1/0},status:{score:g(b),time:0,bonus:0,rollsCount:0,rollThrough:!("vegas"===b.scoring&&"one"===b.draw),history:{},cardsInFoundation:0,isCelebrating:!1,isGameStarted:!1,isPlaying:!1,isDeckFetching:!1,shouldFetchDeck:!0}};var E={solitaire:{caption:"Solitaire",buttons:["minimize","maximize","close"],menu:{categories:{game:{deal:{id:0,type:"menu-item",description:"Deal a new game",function:"deal",text:"Deal F2"},break_first:{id:1,type:"break"},undo:{id:2,type:"menu-item",description:"Undo last action",function:"undo",text:"Undo"},back:{id:3,type:"menu-item",description:"Choose new deck back",function:"back",text:"Deck..."},options:{id:4,type:"menu-item",description:"Change Solitaire options",function:"options",text:"Options..."},break_second:{id:5,type:"break"},exit:{id:6,type:"menu-item",description:"Exit Solitaire",function:"exit",text:"Exit"}},help:{contents:{id:0,type:"menu-item",description:"Index of Solitaire help topics",function:"help",text:"Contents F1"},search:{id:1,type:"menu-item",description:"Search the Help Engine for a specific topic",function:"help",text:"Search for Help on..."},howTo:{id:2,type:"menu-item",description:"Help using help",function:"help",text:"How to Use Help"},break_first:{id:3,type:"break"},statistics:{id:4,type:"menu-item",description:"Game Statistics",function:"statistics",text:"Game Statistics"}}},hovered:null,isShowing:!1},status:{description:""},style:{width:585,height:404,left:null,top:null},lastStyle:null,isBlocked:!1,isMaximized:!1,isMinimized:!1,isResizing:!1,isResizable:!0,isShowing:!0},back:{alert:!1,caption:"Select Card Back",buttons:["help","close"],style:{width:267,height:190,left:null,top:null},isBlocking:!0,isShowing:!1},options:{alert:!1,caption:"Options",buttons:["help","close"],style:{width:336,height:192,left:null,top:null},isBlocking:!0,isShowing:!1},help:{caption:"Solitaire",buttons:["minimize","maximize","close"],style:{width:542,height:416,left:null,top:null},lastStyle:null,isBlocking:!1,isMaximized:!1,isMinimized:!1,isResizing:!1,isResizable:!0,isShowing:!1},restart:{alert:!1,caption:"Solitaire",buttons:["close"],style:{width:179,height:94,left:null,top:null},isBlocking:!0,isShowing:!1},statistics:{alert:!1,caption:"Statistics",buttons:["close"],style:{width:413,height:322,left:null,top:null},isBlocking:!0,isShowing:!1},error:{alert:!1,caption:"Solitaire",buttons:["close"],message:"unknown error",style:{width:500,height:100,left:null,top:null},isBlocking:!0,isShowing:!1},activity:["solitaire"],minimized:[],cursor:null,isCursorFreezed:!1};var k=Object(c.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEAL":return Object(u.a)({},e,{cards:{deck:[],waste:[],foundation:[[],[],[],[]],tableau:[[],[],[],[],[],[],[]]},status:{score:g(b),time:0,bonus:0,rollsCount:0,rollThrough:!("vegas"===b.scoring&&"one"===b.draw),history:{},cardsInFoundation:0,isCelebrating:!1,isGameStarted:!1,isPlaying:!1,isDeckFetching:!1,shouldFetchDeck:!0}});case"DRAW":var a=Object(u.a)({},e);if(a.status.history=y(a,"deck","waste"),e.cards.deck.length>0){if("one"===t.payload)return a.cards.waste.push(Object(u.a)({},a.cards.deck.shift(),{status:"upturned"})),a;var n;if("three"===t.payload)return a.cards.waste=a.cards.waste.map(function(e){return Object(u.a)({},e,{draw:null})}),(n=a.cards.waste).push.apply(n,Object(d.a)(a.cards.deck.splice(0,3).map(function(e,t){return Object(u.a)({},e,{draw:t+1,status:"upturned"})}))),a}return a.status.score=f(a,"recycleWaste"),a.cards.deck=a.cards.waste.map(function(e){return Object(u.a)({},e,{status:"downturned"})}),a.cards.waste=[],a.status.rollsCount+=1,"vegas"===a.options.scoring&&"three"===a.options.draw&&2===a.status.rollsCount&&(a.status.rollThrough=!1),a;case"DROP":var s=Object(u.a)({},e),i=t.payload,o=i.from,r=i.to;if("tableau"===o.parent)if("tableau"===r.parent){var c,l=o.index,p=s.cards.tableau[o.parent_index].length-l;s.status.history=y(s,"tableau"),(c=s.cards.tableau[r.parent_index]).push.apply(c,Object(d.a)(s.cards.tableau[o.parent_index].splice(l,p)))}else"foundation"===r.parent&&(s.status.history=y(s,"tableau","foundation"),s.status.score=f(s,"tableauToFoundation"),s.status.cardsInFoundation+=1,s.cards.foundation[r.parent_index].push(s.cards.tableau[o.parent_index].pop()));else"waste"===o.parent?("tableau"===r.parent?(s.status.history=y(s,"waste","tableau"),s.status.score=f(s,"wasteToTableau")):"foundation"===r.parent&&(s.status.history=y(s,"waste","foundation"),s.status.score=f(s,"wasteToFoundation"),s.status.cardsInFoundation+=1),s.cards[r.parent][r.parent_index].push(s.cards.waste.pop())):"foundation"===o.parent&&("tableau"===r.parent?(s.status.history=y(s,"foundation","tableau"),s.status.score=f(s,"foundationToTableau"),s.status.cardsInFoundation-=1):s.status.history=y(s,"foundation"),s.cards[r.parent][r.parent_index].push(s.cards.foundation[o.parent_index].pop()));return s;case"TURN":var h=Object(u.a)({},e),E=t.payload;return h.cards.tableau[E.parent_index].length-1===E.index&&(h.status.history={},h.status.score=f(h,"turn"),h.cards.tableau[E.parent_index][E.index].status="upturned"),h;case"FUND_ONE":var k=Object(u.a)({},e),S=m(Number.isFinite(t.payload.parent_index)?k.cards[t.payload.parent][t.payload.parent_index][t.payload.index]:k.cards[t.payload.parent][t.payload.index],k.cards.foundation);return Number.isFinite(S)&&(Number.isFinite(t.payload.parent_index)?(k.status.history=y(k,"foundation","tableau"),k.status.score=f(k,"tableauToFoundation"),k.cards.foundation[S].push(k.cards[t.payload.parent][t.payload.parent_index].pop())):(k.status.history=y(k,"foundation","waste"),k.status.score=f(k,"wasteToFoundation"),k.cards.foundation[S].push(k.cards[t.payload.parent].pop())),k.status.cardsInFoundation+=1),k;case"FUND_ALL":var O=Object(u.a)({},e);e:for(;;){if(O.cards.waste.length>0){var x=m(O.cards.waste[O.cards.waste.length-1],O.cards.foundation);if(Number.isFinite(x)){O.status.history=y(O,"foundation","waste"),O.status.score=f(O,"wasteToFoundation"),O.cards.foundation[x].push(O.cards.waste.pop()),O.status.cardsInFoundation+=1;continue}}for(var I=0;I<O.cards.tableau.length;I++)if(O.cards.tableau[I].length>0&&"upturned"===O.cards.tableau[I][O.cards.tableau[I].length-1].status){var C=m(O.cards.tableau[I][O.cards.tableau[I].length-1],O.cards.foundation);if(Number.isFinite(C)){O.status.history=y(O,"foundation","tableau"),O.status.score=f(O,"tableauToFoundation"),O.cards.foundation[C].push(O.cards.tableau[I].pop()),O.status.cardsInFoundation+=1;continue e}}break}return O;case"SET_OPTIONS":var _=Object(u.a)({},e),N=t.payload,T=N.draw,j=N.scoring,L=N.cumulative,D=N.timed,M=N.status,F=N.outline;return void 0!==T&&(_.options.draw=T,localStorage.setItem("cards_draw",T)),void 0!==j&&(_.options.scoring=j,localStorage.setItem("scoring_type",j),localStorage.getItem("score")&&localStorage.removeItem("score")),void 0!==L&&(_.options.cumulative=L,localStorage.setItem("score_cumulative",L),L?localStorage.setItem("score",_.status.score):localStorage.getItem("score")&&localStorage.removeItem("score")),void 0!==D&&(_.options.timed=D,localStorage.setItem("game_timed",D),localStorage.getItem("score")&&localStorage.removeItem("score")),void 0!==M&&(_.options.status=M,localStorage.setItem("game_statusbar",M)),void 0!==F&&(_.options.outline=F,localStorage.setItem("cards_outline",F)),_;case"SET_BACK":var z=Object(u.a)({},e);return z.options.back=t.payload,localStorage.setItem("cards_back",t.payload),z;case"UNDO":var W=Object(u.a)({},e);if(Object.keys(W.status.history).includes("deck")&&0===W.status.history.deck.length&&(W.status.rollsCount-=1),Object.keys(W.status.history).includes("foundation"))if(Object.keys(W.status.history).includes("tableau")){var R=0,A=0;W.status.history.foundation.forEach(function(e){R+=e.length}),W.cards.foundation.forEach(function(e){A+=e.length}),W.status.score=f(W,A<R?"undoFoundationToTableau":"undoTableauToFoundation")}else Object.keys(W.status.history).includes("waste")&&(W.status.score=f(W,"undoWasteToFoundation"));for(var P in W.status.history)W.cards[P]=Object(d.a)(W.status.history[P]);return W.status.history={},W.status.score=f(W,"undo"),W;case"START_GAME":var H=Object(u.a)({},e);return H.status.isPlaying||(H.status.isPlaying=!0,H=w(H,"played")),H;case"STOP_GAME":var B=Object(u.a)({},e);return B.status.isPlaying&&(B.status.isPlaying=!1),B;case"TICK":var U=Object(u.a)({},e);return U.status.isPlaying?(U.status.time=t.payload,U.status.time%10===0&&(U.status.score=f(U,"time")),U):U;case"START_CELEBRATING":var G=Object(u.a)({},e);return G.status.isPlaying=!1,G.status.isCelebrating=!0,G=w(G,"won","score","time");case"SHOOT_CARD":var Y=Object(u.a)({},e);return Number.isFinite(t.payload)&&Y.cards.foundation[t.payload].pop(),Y;case"STOP_CELEBRATING":var X=Object(u.a)({},e);return X.status.isCelebrating&&(X.status.isCelebrating=!1),X;case"SHUFFLING_DECK":var V=Object(u.a)({},e);return V.status.shouldFetchDeck=!1,V.status.isDeckFetching=!0,V;case"LAY_DECK":var K=Object(u.a)({},e);return K.cards.deck=t.payload.map(function(e){return{code:e.code,value:e.value.toLowerCase(),suit:e.suit.toLowerCase(),status:"downturned"}}),K.status.isDeckFetching=!1,K;case"LAY_TABLEAU":for(var Z=Object(u.a)({},e),q=1;q<=Z.cards.tableau.length;){if(Z.cards.tableau[q-1].length<q){for(var J=1;J<=q;J++)Z.cards.tableau[q-1].push(Object(u.a)({},Z.cards.deck.pop(),{status:J===q?"upturned":"downturned"}));break}q+=1}return 7===q&&(Z.status.isGameStarted=!0),Z;case"THROW_ERROR":var $=Object(u.a)({},e);return $.status.isGameStarted=!0,$;default:return e}},window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE":var a=Object(u.a)({},e),n=t.payload,s=n.window,i=n.left,o=n.top;return a[s]?(a[s].style.left=i,a[s].style.top=o,a):a;case"MINIMIZE":var r=Object(u.a)({},e),c=t.payload;return r[c]?(r[c].isMaximized&&(r[c].isMaximized=!1),r[c].isMinimized=!0,r[c].buttons=["restore","maximize","close"],r.minimized.push(c),null===r[c].lastStyle&&(r[c].lastStyle=Object(u.a)({},r[c].style)),r[c].style={width:0,height:0,left:151*r.minimized.indexOf(c),top:document.documentElement.clientHeight},r):r;case"MAXIMIZE":var l=Object(u.a)({},e),p=t.payload;return l[p]?(l.minimized.includes(p)&&(l.minimized.splice(l.minimized.indexOf(p),1),l.minimized.length>0&&l.minimized.forEach(function(e){l[e].style.left=151*l.minimized.indexOf(e)})),l[p].isMinimized&&(l[p].isMinimized=!1),l[p].isMaximized=!0,l[p].buttons=["minimize","restore","close"],null===l[p].lastStyle&&(l[p].lastStyle=Object(u.a)({},l[p].style)),l[p].style={width:"",height:"",left:0,top:26},l):l;case"RESTORE":var m=Object(u.a)({},e),h=t.payload;return m[h]?(m.minimized.includes(h)&&(m.minimized.splice(m.minimized.indexOf(h),1),m.minimized.length>0&&m.minimized.forEach(function(e){m[e].style.left=151*m.minimized.indexOf(e)})),m[h].style=Object(u.a)({},m[h].lastStyle),m[h].lastStyle=null,m[h].isMinimized=!1,m[h].isMaximized=!1,m[h].buttons=["minimize","maximize","close"],m):m;case"RESIZE":var g=Object(u.a)({},e),f=t.payload,y=f.window,w=f.top,b=f.left,v=f.width,k=f.height;return g[y]&&g[y].isResizable?(Number.isFinite(v)&&(g[y].style.width=v),Number.isFinite(k)&&(g[y].style.height=k),Number.isFinite(b)&&(g[y].style.left=b),Number.isFinite(w)&&(g[y].style.top=w),g):g;case"ACTIVATE":var S=Object(u.a)({},e),O=t.payload;if(!S[O])return S;if(S[O].isBlocked){if(S.activity.indexOf(O)+1<S.activity.length-1){var x;S.activity.indexOf("")>=0&&S.activity.splice(S.activity.indexOf(""),1);var I=S.activity.splice(S.activity.indexOf(O),2);return(x=S.activity).push.apply(x,Object(d.a)(I)),S}if(S.activity.indexOf(O)+1===S.activity.length-1)return!S[S.activity[S.activity.length-1]].alert&&(S[S.activity[S.activity.length-1]].alert=!0),S}return S.activity.includes("")&&S.activity.splice(S.activity.indexOf(""),1),S.activity.splice(S.activity.indexOf(O),1),S.activity.push(O),S;case"DEACTIVATE":var C=Object(u.a)({},e);return 0===C.activity.length||C.activity.includes("")?C:(C.activity.forEach(function(e){C[e]&&C[e].alert&&(C[e].alert=!1)}),C.activity.push(""),C);case"CANCEL_ALERT":var _=Object(u.a)({},e),N=t.payload;return _[N]?(_[N].alert&&(_[N].alert=!1),_):_;case"CLOSE":var T=Object(u.a)({},e),j=t.payload;if(!T[j])return T;if("solitaire"===j)for(var L in T)T[L]&&T[L].isShowing&&(T[L].isShowing=!1,T.activity.splice(T.activity.indexOf(L),1));else T[j].isBlocking&&(T.solitaire.isBlocked=!1);return T[j].isShowing=!1,T[j].style.left=null,T[j].style.top=null,T.activity.splice(T.activity.indexOf(j),1),(T[j].isMaximized||T[j].isMinimized)&&(T[j].style=Object(u.a)({},T[j].lastStyle),T[j].lastStyle=null,T[j].isMinimized=!1,T[j].isMaximized=!1,T[j].buttons=["minimize","maximize","close"],T.minimized.includes(j)&&(T.minimized.splice(T.minimized.indexOf(j),1),T.minimized.length>0&&T.minimized.forEach(function(e){T[e].style.left=151*T.minimized.indexOf(e)}))),T;case"SHOW_WINDOW":var D=Object(u.a)({},e),M=t.payload;return D[M]?("solitaire"!==M&&D[t.payload].isBlocking&&(D.solitaire.isBlocked=!0),D[M].isShowing=!0,D.activity.includes(M)&&D.activity.splice(D.activity.indexOf(M),1),D.activity.push(M),D):D;case"CHANGE_CURSOR":var F=Object(u.a)({},e),z=t.payload,W=z.window,R=z.cursor;return F[W]&&F[W].isResizable?(F.cursor=R,F):F;case"SHOW_MENU":var A=Object(u.a)({},e),P=t.payload,H=P.window,B=P.show;return A[H]&&A[H].menu?(B?A[H].menu.isShowing=!0:(A[H].menu.isShowing=!1,A[H].menu.hovered=null,A[H].status.description=""),A):A;case"HOVER_MENU":var U=Object(u.a)({},e),G=t.payload,Y=G.window,X=G.hover;return U[Y]&&U[Y].menu?(U[Y].menu.hovered=X,U):U;case"DESCRIBE_MENU":var V=Object(u.a)({},e),K=t.payload,Z=K.window,q=K.describe;return V[Z]&&V[Z].menu?(t.payload.describe?V[Z].status.description=V[Z].menu.categories[V[Z].menu.hovered][q].description:V[Z].status.description="",V):V;case"FREEZE_CURSOR":var J=Object(u.a)({},e);return J.isCursorFreezed=t.payload,J;case"THROW_ERROR":var $=Object(u.a)({},e);return $.error.message=t.payload,$;default:return e}}}),S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,O=Object(c.e)(k,S(Object(c.a)(l.a))),x=a(3),I=a(4),C=a(6),_=a(5),N=a(7);a(33),a(34);function T(e){var t=this;if("solitaire"===this.props.parent&&this.props.game.status.isCelebrating)return e.stopPropagation(),this.props.showMenu({window:"solitaire",show:!1}),void this.props.stopCelebrating();if(0===e.button&&e.target.classList.contains("menu-category")&&!this.props.window[this.props.parent].isBlocked){var a=function e(a){if(!(a.target.classList.contains("drop-down-menu")||"HR"===a.target.tagName&&a.target.offsetParent&&a.target.offsetParent.classList.contains("drop-down-menu"))){if("SPAN"===a.target.tagName&&a.target.offsetParent&&a.target.offsetParent.classList.contains("menu-item")){if(0!==a.button)return;t.props[a.target.offsetParent.dataset.func]()}else if(a.target.classList.contains("menu-item")){if(0!==a.button||a.target.classList.contains("disabled"))return;t.props[a.target.dataset.func]()}t.props.showMenu({window:t.props.parent,show:!1}),document.removeEventListener("mousedown",e)}},n=e.target.firstChild.textContent.toLowerCase();this.props.window[this.props.parent].menu.hovered!==n&&this.props.hoverMenu({window:this.props.parent,hover:n}),this.props.showMenu({window:this.props.parent,show:!this.props.window[this.props.parent].menu.isShowing}),this.props.window[this.props.parent].menu.isShowing?document.addEventListener("mousedown",a):document.removeEventListener("mousedown",a)}}function j(e){if(e.target.classList.contains("menu-category")&&!this.props.window[this.props.parent].isBlocked){var t=e.target.firstChild.textContent.toLowerCase();switch(e.type){case"mouseenter":this.props.hoverMenu({window:this.props.parent,hover:t});break;case"mouseleave":this.props.window[this.props.parent].menu.isShowing||this.props.window[this.props.parent].menu.hovered!==t||this.props.hoverMenu({window:this.props.parent,hover:null})}}}function L(e){var t=this.props.window[this.props.parent];if(t)if(e.target.classList.contains("menu-item")||e.target.offsetParent.classList.contains("menu-item")){var a=e.target;e.target.offsetParent.classList.contains("menu-item")&&(a=e.target.offsetParent),t.status.description!==t.menu.categories[t.menu.hovered][a.dataset.name].description&&this.props.describeMenu({window:this.props.parent,describe:a.dataset.name})}else""!==t.status.description&&this.props.describeMenu({window:this.props.parent,describe:null})}var D=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props.window[this.props.parent].menu.categories,t=[];for(var a in e){var n=[];for(var i in e[a])if("menu-item"===e[a][i].type){var o="menu-item";"undo"===i&&0===Object.keys(this.props.game.status.history).length&&(o+=" disabled"),n.push(s.a.createElement("div",{key:i,className:o,"data-name":i,"data-func":e[a][i].function},0===e[a][i].id?e[a][i].text.split(" ").map(function(e){return s.a.createElement("span",{key:e},e)}):e[a][i].text))}else"break"===e[a][i].type&&n.push(s.a.createElement("hr",{key:i,onMouseEnter:this.clearDescription}));var r="menu-category";this.props.window[this.props.parent].menu.hovered===a&&(r+=" hovered",this.props.window[this.props.parent].menu.isShowing&&(r+=" showing")),t.push(s.a.createElement("div",{key:"menu-category-".concat(a),className:r,onMouseDown:T.bind(this),onMouseEnter:j.bind(this),onMouseLeave:j.bind(this)},a.charAt(0).toUpperCase()+a.slice(1),s.a.createElement("div",{className:"drop-down-menu ".concat(a),onMouseMove:L.bind(this)},n)))}return s.a.createElement("div",{className:"menu-bar"},t)}}]),t}(n.PureComponent),M=Object(r.b)(function(e){return{game:e.game,window:e.window}},function(e){return{deal:function(){return e({type:"DEAL"})},undo:function(){return e({type:"UNDO"})},back:function(){return e({type:"SHOW_WINDOW",payload:"back"})},options:function(){return e({type:"SHOW_WINDOW",payload:"options"})},exit:function(){return e({type:"CLOSE",payload:"solitaire"})},help:function(){return e({type:"SHOW_WINDOW",payload:"help"})},statistics:function(){return e({type:"SHOW_WINDOW",payload:"statistics"})},showMenu:function(t){return e({type:"SHOW_MENU",payload:t})},hoverMenu:function(t){return e({type:"HOVER_MENU",payload:t})},describeMenu:function(t){return e({type:"DESCRIBE_MENU",payload:t})},stopCelebrating:function(){e({type:"STOP_CELEBRATING"}),e({type:"SHOW_WINDOW",payload:"restart"})}}})(D);a(35),a(36);function F(e){var t="button";return"ok"===e.type?t+=" button_ok":"cancel"===e.type&&(t+=" button_cancel"),e.selected&&(t+=" button_selected"),s.a.createElement("div",{className:t,onMouseDown:function(t){if(e.click&&0===t.button){var a=t.target;document.addEventListener("mouseup",function(t){t.target===a&&e.click()},{once:!0})}}})}var z=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).state={selected:a.props.game.options.back},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=function(a){var n="grid-item back-".concat(a);e.state.selected===a&&(n+=" selected"),t.push(s.a.createElement("div",{key:"bg-".concat(a),className:n,onMouseDown:function(t){0===t.button&&e.setState({selected:a})}}))},n=0;n<12;n++)a(n);return s.a.createElement("div",{className:"back-contents"},s.a.createElement("div",{className:"back-grid"},t),s.a.createElement(F,{type:"ok",selected:!0,click:function(){e.props.set(e.state.selected)}}),s.a.createElement(F,{type:"cancel",click:function(){e.props.close()}}))}}]),t}(n.Component),W=Object(r.b)(function(e){return{game:e.game}},function(e){return{close:function(){return e({type:"CLOSE",payload:"back"})},set:function(t){e({type:"SET_BACK",payload:t}),e({type:"CLOSE",payload:"back"})}}})(z);a(37);function R(e){var t=this;if(0===e.button){var a=e.target;a.classList.add("pressed"),document.addEventListener("mouseup",function(e){e.target===a&&(t.setState({isShowingContents:!t.state.isShowingContents}),t.state.isShowingContents||t.props.window.help.isMaximized?t.state.isShowingContents&&!t.props.window.help.isMaximized&&t.props.resize({window:"help",left:t.refs.container.parentElement.offsetLeft-t.contentsWidth-t.state.shift-3,width:t.contentsWidth+3+t.refs.container.clientWidth+t.state.shift}):t.props.resize({window:"help",left:t.refs.container.parentElement.offsetLeft+t.contentsWidth+t.state.shift+3,width:t.refs.container.clientWidth-t.contentsWidth-t.state.shift-3})),a.classList.remove("pressed")},{once:!0})}}function A(e){var t=this;this.props.changeCursor({window:"help",cursor:"ew-resize"}),this.props.freezeCursor(!0);var a=e.target.cloneNode(),n=e.target.parentElement,s=e.pageX,i=this.state.shift;a.style.position="absolute",a.style.left="".concat(this.contentsWidth+i,"px"),a.style.top="41px",a.style.zIndex=1,n.appendChild(a);var o=function(e){i=e.pageX-s+t.state.shift,a.style.transform="translateX(".concat(e.pageX-s,"px)")};document.addEventListener("mousemove",o),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",o),n.removeChild(a),t.props.freezeCursor(!1),t.props.changeCursor({window:"help",cursor:null}),t.refs.container.clientWidth-t.contentsWidth-i<145?i=t.refs.container.clientWidth-t.contentsWidth-145:t.contentsWidth+i<145&&(i=145-t.contentsWidth),t.setState({shift:i})},{once:!0})}a(38);function P(e){return s.a.createElement("div",{className:"contents"},[{type:"book",caption:"Solitaire",id:"book"},{type:"category",caption:"Solitaire overview",id:"overview"},{type:"topic",caption:"Play Solitaire",id:"play"},{type:"topic",caption:"Change game options",id:"options"},{type:"topic",caption:"Choose a scoring system",id:"scoring"}].map(function(t,a){if(!e.isOpened&&0!==a)return null;var n=t.type;return"book"===n&&(e.isOpened?n+=" opened":n+=" closed"),e.selected===t.id&&(n+=" selected"),s.a.createElement("div",{key:t.id,className:n,onMouseDown:function(a){return 0===a.button&&e.select(t.id)}},s.a.createElement("div",{className:"icon"}),s.a.createElement("span",{className:"caption"},t.caption))}))}var H=a(8),B=(a(39),[s.a.createElement("h1",{key:"heading",className:"heading"},"Solitaire overview"),s.a.createElement("p",{key:"paragraph",className:"paragraph"},"The object of Solitaire is to use all the cards in the deck to build up the four suit stacks in ascending order, beginning with the aces.")]),U=(a(40),{"row stacks":"Cards are stacked in descending order, alternating between red cards and black cards. For example, you can play the two of hearts on three of clubs.","suit stacks":"Cards are stacked in the four areas at the upper right of the screen in ascending order, beginning with aces. For example, you can play the two of hearts on the ace of hearts.",drag:"To move in item on the screen by selecting the item and then pressing and holding down the mouse button while moving the mouse. For example, you can move a window to another location on the screen by dragging its title bar."});function G(e){var t=e.children;return s.a.createElement("span",{className:"definable",onMouseEnter:function(e){var t=document.createElement("div");t.className="hint",t.style.left="".concat(e.pageX,"px"),t.style.top="".concat(e.pageY+22,"px"),t.textContent="View definition",document.body.appendChild(t),e.target.addEventListener("mouseleave",function(){document.body.contains(t)&&document.body.removeChild(t)},{once:!0})},onMouseDown:function(e){var a=e.target.getBoundingClientRect(),n=document.createElement("div");n.className="definition",n.style.left="".concat(a.left,"px"),n.style.top="".concat(a.top,"px");var s=document.createElement("p");s.textContent=t,n.appendChild(s);var i=document.createElement("p");i.textContent=U[t],n.appendChild(i),document.body.appendChild(n),document.addEventListener("mousedown",function(){document.body.removeChild(n)},{once:!0})}},t)}var Y=[s.a.createElement("h1",{key:"heading",className:"heading"},"To play Solitaire"),s.a.createElement("ol",{key:"ordered",className:"ordered"},s.a.createElement("li",null,"On the ",s.a.createElement("strong",null,"Game")," menu, click ",s.a.createElement("strong",null,"Deal"),". "),s.a.createElement("li",null,"Double-click any aces on the seven stacks to move them to the spaces at the upper right of the screen, and then make any other plays available on the board."),s.a.createElement("li",null,"When you have made all available plays on the board, click the deck to begin turning over cards.")),s.a.createElement("p",{key:"note",className:"note"},"Notes"),s.a.createElement("ul",{key:"unordered",className:"unordered"},s.a.createElement("li",null,"The card that is face up on the deck is always available for play."),s.a.createElement("li",null,"If you are using the ",s.a.createElement("strong",null,"Draw Three")," card option, click the deck to turn over the cards before you turn over any stack cards. This will give you an opportunity to see other play options that could increase your chances of winning."),s.a.createElement("li",null,"You will be building ",s.a.createElement(G,null,"row stacks")," and ",s.a.createElement(G,null,"suit stacks"),"."),s.a.createElement("li",null,"You build row stacks to free up cards that you need to build the suit stacks."),s.a.createElement("li",null,"To move a card or a stack of cards, from one row stack to another, click and ",s.a.createElement(G,null,"drag")," the card or stack."),s.a.createElement("li",null,"To move a card from either the deck or a row stack to a suit stack, double-click it."),s.a.createElement("li",null,"To move all playable cards to their respective suit stacks, right-click the game board or press CTRL+A."),s.a.createElement("li",null,"After moving a card from a row stack to a suit stack or a different row stack, click the next card to turn it over."),s.a.createElement("li",null,"When a row stack is open (no cards in the row), you can move a king (along with any cards that might be in its stack) to the open row stack."))],X=[s.a.createElement("h1",{key:"heading",className:"heading"},"To change game options"),s.a.createElement("ol",{key:"ordered",className:"ordered"},s.a.createElement("li",null,"On the ",s.a.createElement("strong",null,"Game")," menu, click ",s.a.createElement("strong",null,"Options"),"."),s.a.createElement("li",null,s.a.createElement("p",null,"For a more challenging game, select the Timed game check box to have your game timed."),s.a.createElement("p",null,"Select the ",s.a.createElement("strong",null,"Status bar")," check box to display the score and time played."),s.a.createElement("p",null,"Select the ",s.a.createElement("strong",null,"Outline dragging")," check box for the outline of a card (rather than the actual card itself) to appear while you ",s.a.createElement(G,null,"drag")," the card to a new location."))),s.a.createElement("p",{key:"note",className:"note"},"Note"),s.a.createElement("ul",{key:"unordered",className:"unordered"},s.a.createElement("li",null,"To specify the design of the deck you would like to play with, click the ",s.a.createElement("strong",null,"Game")," menu, click ",s.a.createElement("strong",null,"Deck"),", and then make your selection."))];a(41);function V(e){var t=document.createElement("div");t.className="hint",t.style.left="".concat(e.pageX,"px"),t.style.top="".concat(e.pageY+22,"px"),t.textContent="Expand/collapse",document.body.appendChild(t),e.target.addEventListener("mouseleave",function(){document.body.contains(t)&&document.body.removeChild(t)},{once:!0}),document.addEventListener("mousedown",function(){document.body.contains(t)&&document.body.removeChild(t)},{once:!0})}function K(e){if(0===e.button&&e.target.classList.contains("title")){var t=e.target.parentElement.classList[0];this.setState(function(e){return e.selected=t,e.showing[t]=!e.showing[t],e})}}var Z={standard:[s.a.createElement("p",{key:"paragraph",className:"paragraph"},"The ",s.a.createElement("strong",null,"Standard")," option works as follows:"),s.a.createElement("ul",{key:"unordered",className:"unordered"},s.a.createElement("li",null,"If you move a card to a suit stack, you get 10 points."),s.a.createElement("li",null,"If you move a card from the deck to a row stack, you get 5 points."),s.a.createElement("li",null,"If you turn over a card in a row stack, you get 5 points."),s.a.createElement("li",null,"If you move a card from a suit stack back to a row stack, you lose 15 points."),s.a.createElement("li",null,"If you are playing with the Draw Three option, you lose 20 points every time you go through the deck after the third time."),s.a.createElement("li",null,"If you are playing with the Draw One option, you lose 100 points every time you go through the deck after the first time."),s.a.createElement("li",null,"For timed games only, you lose 2 points every 10 seconds of play, and you receive bonus points at the end of the game. The shorter the game, the larger the bonus."))],vegas:[s.a.createElement("p",{key:"paragraph",className:"paragraph"},"The ",s.a.createElement("strong",null,"Vegas")," option works as follows:"),s.a.createElement("ul",{key:"unordered",className:"unordered"},s.a.createElement("li",null,"You start the game with a debt of 52 dollars, which represents your wager."),s.a.createElement("li",null,"You win 5 dollars for every card you play on a suit stack."),s.a.createElement("li",null,"The object of the game is to earn more money than you wagered."),s.a.createElement("li",null,"If you are playing with the Draw Three option, you can only go through the deck three times."),s.a.createElement("li",null,"If you are playing with the Draw One option, you can only go through the deck once."))],none:[s.a.createElement("p",{key:"paragraph",className:"paragraph"},"The ",s.a.createElement("strong",null,"None")," option works as follows:"),s.a.createElement("ul",{key:"unordered",className:"unordered"},s.a.createElement("li",null,"You start the game with no debt (wager) and no money."),s.a.createElement("li",null,"You can play the game with the timer turned on or off."),s.a.createElement("li",null,"The object of the game is to play all the cards. You don't win or lose any money."),s.a.createElement("li",null,"You can go through the deck as many times as you like whether you are playing with the ",s.a.createElement("strong",null,"Draw Three")," option or the ",s.a.createElement("strong",null,"Draw One")," option."))]},q=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).state={selected:null,showing:{standard:!1,vegas:!1,none:!1}},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"componentDidUpdate",value:function(){this.props.isPageScrollable&&this.props.isPageScrollable()}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.showing).map(function(t){var a=t;return e.state.showing[t]&&(a+=" showing"),e.state.selected===t&&(a+=" selected"),s.a.createElement("div",{key:t,className:a},s.a.createElement("span",{className:"title",onMouseEnter:V.bind(e)},t[0].toUpperCase()+t.slice(1)),e.state.showing[t]?Z[t]:"")});return s.a.createElement("div",{className:"scoring-list",onMouseDown:K.bind(this)},t)}}]),t}(n.Component),J=function(e){return[s.a.createElement("h1",{key:"heading",className:"heading"},"To choose a scoring system"),s.a.createElement("ol",{key:"ordered",className:"ordered"},s.a.createElement("li",null,"On the ",s.a.createElement("strong",null,"Game")," menu, click ",s.a.createElement("strong",null,"Options"),"."),s.a.createElement("li",null,"Under Scoring, click one of the following options:",s.a.createElement(q,{isPageScrollable:e}))),s.a.createElement("p",{key:"note",className:"note"},"Note"),s.a.createElement("ul",{key:"unordered",className:"unordered"},s.a.createElement("li",null,"On the ",s.a.createElement("strong",null,"Game")," menu, click ",s.a.createElement("strong",null,"Options")," to specify whether to draw one or three cards at a time. These options are scored slightly differently."))]},$=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).state={lastIndex:a.props.index},a.isPageScrollable=function(){a.refs.page.clientHeight===a.refs.page.parentElement.clientHeight?a.props.isPageScrollable(!1):a.props.isPageScrollable(!0)},a.pages={book:B,overview:B,play:Y,options:X,scoring:J(a.isPageScrollable.bind(Object(H.a)(a)))},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"componentDidUpdate",value:function(){this.refs.page&&this.props.index!==this.state.lastIndex&&0!==this.refs.page.parentElement.scrollTop&&(this.refs.page.parentElement.scrollTop=0),this.isPageScrollable(),this.props.index!==this.state.lastIndex&&this.setState({lastIndex:this.props.index})}},{key:"render",value:function(){var e=this.props.history.length>0?this.props.history[this.props.index]:"overview";return s.a.createElement("div",{className:"page",ref:"page"},this.pages[e])}}]),t}(n.Component),Q=function(e){function t(){var e;return Object(x.a)(this,t),(e=Object(C.a)(this,Object(_.a)(t).call(this))).state={isShowingContents:!0,shift:0,isContentsOpened:!1,selected:"book",history:[],historyIndex:null,isContentsScrollable:!1,isPageScrollable:!1},e.contentsWidth=267,e.select=function(t){t!==e.state.history[e.state.historyIndex]&&e.setState(function(e){return e.selected=t,"book"===t?e.isContentsOpened=!e.isContentsOpened:(e.historyIndex!==e.history.length-1&&e.history.splice(e.historyIndex+1),e.history.push(t),e.historyIndex=e.history.length-1),e})},e.back=function(){0!==e.state.history.length&&0!==e.state.historyIndex&&e.setState(function(e){return e.historyIndex-=1,e})},e.forward=function(){0!==e.state.history.length&&e.state.historyIndex!==e.state.history.length-1&&e.setState(function(e){return e.historyIndex+=1,e})},e.isPageScrollable=function(t){e.state.isPageScrollable!==t&&e.setState({isPageScrollable:t})},e}return Object(N.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this;this.refs.page&&this.refs.page.offsetWidth!==this.pageWidth&&(this.pageWidth=this.refs.page.offsetWidth);var t=this.state.isShowingContents?"hide":"show",a={width:"".concat(this.contentsWidth+this.state.shift,"px"),minWidth:"".concat(this.contentsWidth+this.state.shift,"px")},n={width:this.state.isShowingContents?"calc(100% - ".concat(this.contentsWidth+3+this.state.shift,"px)"):"100%"},i="back";0!==this.state.history.length&&0!==this.state.historyIndex||(i+=" inactive");var o="forward";0!==this.state.history.length&&this.state.historyIndex!==this.state.history.length-1||(o+=" inactive");var r="contents-wrapper";this.state.isContentsOpened&&this.contentsWidth+this.state.shift<184&&(r+=" scrollable");var c="page-container";return this.state.isPageScrollable&&(c+=" scrollable"),s.a.createElement("div",{className:"help-contetns",ref:"container"},s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:t,onMouseDown:R.bind(this)},t.charAt(0).toUpperCase()+t.slice(1)),s.a.createElement("div",{className:i,onMouseDown:function(t){if(0===t.button){var a=t.target;a.classList.add("pressed"),document.addEventListener("mouseup",function(t){t.target===a&&e.back(),a.classList.remove("pressed")},{once:!0})}}},"Back"),s.a.createElement("div",{className:o,onMouseDown:function(t){if(0===t.button){var a=t.target;a.classList.add("pressed"),document.addEventListener("mouseup",function(t){t.target===a&&e.forward(),a.classList.remove("pressed")},{once:!0})}}},"Forward")),this.state.isShowingContents?s.a.createElement("div",{className:"contents-container",ref:"contents",style:a},s.a.createElement("div",{className:"tab"},s.a.createElement("div",{className:r},s.a.createElement(P,{isOpened:this.state.isContentsOpened,selected:this.state.selected,select:this.select})))):null,this.state.isShowingContents?s.a.createElement("div",{className:"separator",onMouseDown:A.bind(this)}):null,s.a.createElement("div",{className:c,ref:"page",style:n},s.a.createElement($,{history:this.state.history,index:this.state.historyIndex,selected:this.state.history.length>0?this.state.history[this.state.historyIndex]:"overview",isPageScrollable:this.isPageScrollable.bind(this)})))}}]),t}(n.Component),ee=Object(r.b)(function(e){return{window:e.window}},function(e){return{move:function(t){return e({type:"MOVE",payload:t})},resize:function(t){return e({type:"RESIZE",payload:t})},changeCursor:function(t){return e({type:"CHANGE_CURSOR",payload:t})},freezeCursor:function(t){return e({type:"FREEZE_CURSOR",payload:t})}}})(Q);a(42);function te(){return s.a.createElement("div",{className:"bsod"},s.a.createElement("p",null,"A problem has been detected and Solitaire has been shut down to prevent damage to your computer."),s.a.createElement("p",null,"If this is the first time you've seen this stop error screen, do not attempt to close Solitaire further."),s.a.createElement("p",null,"Press F5 or refresh this page in any other way to make it as it should be."),s.a.createElement("p",null,"If problems continue, you have to admit that you are nasty and you shouldn't do such things that surely will break some other things."),s.a.createElement("p",null,"Technical information:"),s.a.createElement("p",null,"*** STOP: 0x00000007 (0x00000000, 0x00000000, 0x00000000, 0x00000000)"),s.a.createElement("p",null,"*** sol.exe -  STOP PRESSING RANDOM BUTTONS FOR PITY'S SAKE"))}a(43),a(44),a(45);function ae(e){var t={2:"center",3:"door"},a={ok:"ok",notok:"not-ok",empty:"empty",downturned:"closed back-".concat(e.back),upturned:"opened ".concat(e.value," ").concat(e.suit)};return t[e.draw]&&(a.upturned+=" ".concat(t[e.draw])),s.a.createElement("div",{"data-parent":e.parent,"data-index":e.index,className:"card ".concat(a[e.status])},e.children)}function ne(e){return s.a.createElement(ae,{key:e.code,back:e.back,value:e.value,suit:e.suit,status:e.status,children:e.children,parent:e.parent,index:e.index,left:e.left,top:e.top,draw:e.draw})}var se=Object(r.b)(function(e){return{game:e.game}})(function(e){return s.a.createElement("div",{className:"deck"},e.game.status.isDeckFetching?"":e.game.cards.deck.length?e.game.cards.deck.map(function(t,a){return ne(Object(u.a)({},t,{parent:"deck",index:a,back:e.game.options.back}))}):e.game.status.rollThrough?ne({status:"ok"}):ne({status:"notok"}))});a(46);var ie=Object(r.b)(function(e){return{game:e.game}})(function(e){return s.a.createElement("div",{className:"waste by-".concat(e.game.options.draw)},e.game.cards.waste.map(function(e,t){return ne(Object(u.a)({},e,{parent:"waste",index:t}))}))});a(47);var oe=Object(r.b)(function(e){return{game:e.game}})(function(e){return e.game.cards.tableau.map(function(t,a){return s.a.createElement("div",{key:"t-".concat(a),className:"tableau tableau-".concat(a)},t.length>0?function e(t,a,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return ne(Object(u.a)({},t[0],{back:n,parent:"tableau-".concat(a),index:s,children:t.length>1&&e(t.slice(1,t.length),a,n,++s)}))}(t,a,e.game.options.back):"")})});a(48);var re=Object(r.b)(function(e){return{game:e.game}})(function(e){return e.game.cards.foundation.map(function(t,a){return s.a.createElement("div",{key:"f-".concat(a),className:"foundation foundation-".concat(a),ref:function(t){return e.refs(t,a)}},t.length>0?t.map(function(e,t){return ne(Object(u.a)({},e,{status:"upturned",parent:"foundation-".concat(a),index:t}))}):"")})}),ce=function(e){function t(){return Object(x.a)(this,t),Object(C.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(I.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this;return s.a.createElement("canvas",{width:this.props.width,height:this.props.height,ref:function(t){return t?e.props.contextRef(t.getContext("2d")):null}})}}]),t}(n.Component),le=a(22),de=a.n(le),ue=new Image;ue.src=de.a;var pe=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).saveContext=a.saveContext.bind(Object(H.a)(a)),a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"saveContext",value:function(e){this.ctx=e}},{key:"componentDidMount",value:function(){this.ctx.imageSmoothingEnabled=!1}},{key:"componentDidUpdate",value:function(){var e=this.props.render,t=e.cx,a=e.cy,n=e.cardWidth,s=e.cardHeight,i=e.x,o=e.y;this.ctx.drawImage(ue,t,a,n,s,i,o,n,s)}},{key:"render",value:function(){return s.a.createElement(ce,{width:this.props.width,height:this.props.height,contextRef:this.saveContext})}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).state={render:!1},a.currentFoundation=0,a.cardWidth=71,a.cardHeight=96,a.suits={hearts:0,clubs:a.cardWidth,diamonds:2*a.cardWidth,spades:3*a.cardWidth},a.throwCards=function(){if(a.props.game.cards.foundation[a.currentFoundation].length>0){var e=a.suits[a.props.game.cards.foundation[a.currentFoundation][a.props.game.cards.foundation[a.currentFoundation].length-1].suit],t=Math.floor((p[a.props.game.cards.foundation[a.currentFoundation][a.props.game.cards.foundation[a.currentFoundation].length-1].value]-1)*a.cardHeight),n=Math.round(5*Math.random()+4)/10,s=Math.floor(2*Math.random())-1;s=s||1;var i=Math.round(s*Math.round(7*Math.random()+1)),o=Math.round(6*Math.random()-6)-2,r=a.props.foundations[a.currentFoundation],c=6;a.animation=requestAnimationFrame(function s(){if(c+=o,(r+=i)<-a.cardWidth||r>a.props.width)return a.props.shootCard(a.currentFoundation),a.currentFoundation+=1,a.currentFoundation>3&&(a.currentFoundation=0),void(a.animation=requestAnimationFrame(a.throwCards));c>a.props.height-a.cardHeight&&(c=a.props.height-a.cardHeight,o>0&&o<=2?(o=-2,n=.5):o=.85*-o),o+=n,a.setState({render:{cx:e,cy:t,cardWidth:a.cardWidth,cardHeight:a.cardHeight,x:r,y:c}}),a.animation=requestAnimationFrame(s)})}else a.currentFoundation<3?(a.currentFoundation+=1,a.animation=requestAnimationFrame(a.throwCards)):(cancelAnimationFrame(a.animation),a.props.stopCelebrating())},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.animation=requestAnimationFrame(this.throwCards)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.animation)}},{key:"render",value:function(){return s.a.createElement(pe,{width:this.props.width,height:this.props.height,render:this.state.render})}}]),t}(n.Component),he=Object(r.b)(function(e){return{game:e.game,window:e.window}},function(e){return{shootCard:function(t){return e({type:"SHOOT_CARD",payload:t})},stopCelebrating:function(){e({type:"STOP_CELEBRATING"}),e({type:"SHOW_WINDOW",payload:"restart"})}}})(me),ge=a(23);function fe(e,t){if(e.classList.value.match(/card opened/)){var a={value:e.classList[2],suit:e.classList[3],parent:e.dataset.parent,index:parseInt(e.dataset.index)};if(t.classList.value.match(/card opened/)){var n={value:t.classList[2],suit:t.classList[3],parent:t.dataset.parent,index:parseInt(t.dataset.index)};if(p[a.value]===p[n.value]+1&&n.parent.match(/foundation/)&&a.suit===n.suit)return{from:{parent:a.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(a.parent.match(/\d/)),index:a.index},to:{parent:n.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(n.parent.match(/\d/)),index:n.index}};if(p[a.value]+1===p[n.value]&&n.parent.match(/tableau/)&&ge[a.suit]!==n.suit&&a.suit!==n.suit&&0===t.children.length)return{from:{parent:a.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(a.parent.match(/\d/)),index:a.index},to:{parent:n.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(n.parent.match(/\d/)),index:n.index}}}else{if(t.classList.value.match(/foundation/))return"ace"===a.value&&{from:{parent:a.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(a.parent.match(/\d/)),index:a.index},to:{parent:t.classList[0],parent_index:parseInt(t.classList[1].match(/\d/)),index:NaN}};if(t.classList.value.match(/tableau/))return"king"===a.value&&{from:{parent:a.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(a.parent.match(/\d/)),index:a.index},to:{parent:t.classList[0],parent_index:parseInt(t.classList[1].match(/\d/)),index:NaN}}}}return!1}function ye(e){var t=this;if(!this.props.window.solitaire.isBlocked&&("solitaire"!==this.props.window.activity[this.props.window.activity.length-1]&&this.props.activate(),this.props.game.status.isGameStarted))if(0===e.button){if(this.props.game.status.isPlaying||this.startGame(),!(!e.target.classList.contains("card")||e.target.attributes.getNamedItem("data-parent")&&"waste"===e.target.dataset.parent&&this.props.game.cards.waste.length!==parseInt(e.target.dataset.index)+1||e.target.attributes.getNamedItem("data-parent")&&"deck"===e.target.dataset.parent&&this.props.game.cards.deck.length!==parseInt(e.target.dataset.index)+1))if(e.stopPropagation(),e.target.classList.contains("opened")){var a=e.target,n=!1,s=null,i=a.parentElement,o=this.props.game.options.outline;o&&((a=a.cloneNode(!0)).classList.add("outline"),a.style.display="none",i.appendChild(a)),a.style.zIndex=69;var r=e.pageX,c=e.pageY,l=function(e){"none"===a.style.display&&(a.style.display=""),a.style.transform="translate(".concat(e.pageX-r,"px,").concat(e.pageY-c,"px)");var t=function(e,t){var n=document.elementsFromPoint(e,t);return n.includes(a)?n[n.indexOf(a)+1]:n[0]},i=a.getBoundingClientRect(),l={left_top:t(i.left+1,i.top+1),right_top:t(i.left+69,i.top+1),left_bottom:t(i.left+1,i.top+94),right_bottom:t(i.left+69,i.top+94)},d=0;for(var u in l){d++;var p=l[u];if(p&&p.classList&&p.parentElement&&p!==a){if(p===s)break;if(p.classList.contains("card")){if(p.classList.contains("opened")&&!p.parentElement.classList.contains("waste")&&fe(a,p)){n=fe(a,p),null!==s&&o&&s.classList.remove("inverted"),s=p,o&&s.classList.add("inverted");break}}else{if((p.classList.contains("tableau")||p.classList.contains("foundation"))&&fe(a,p)){n=fe(a,p),null!==s&&o&&s.classList.remove("inverted"),s=p,o&&s.classList.add("inverted");break}4===d&&null!==s&&(o&&s.classList.remove("inverted"),s=null,n=!1)}}else 4===d&&null!==s&&(o&&s.classList.remove("inverted"),s=null,n=!1)}};document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",l),o?i.removeChild(a):(a.style.transform="",a.style.zIndex=""),s&&(t.props.drop.bind(t)(n),o&&s.classList.remove("inverted"))},{once:!0}),document.addEventListener("mousemove",l)}else e.target.parentElement.classList.contains("deck")&&!e.target.classList.contains("not-ok")?this.props.draw.bind(this)(this.props.game.options.draw):e.target.classList.contains("closed")&&0===e.target.children.length&&this.props.turn.bind(this)({parent:e.target.dataset.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(e.target.dataset.parent.match(/\d/)),index:parseInt(e.target.dataset.index)})}else 2===e.button&&this.props.fundAll()}function we(e){this.props.window.solitaire.isBlocked||0!==e.button||!e.target.classList.contains("opened")||!e.target.attributes.getNamedItem("data-parent")||e.target.dataset.parent.match("foundation")||"waste"===e.target.dataset.parent&&this.props.game.cards.waste.length!==parseInt(e.target.dataset.index)+1||this.props.fundOne.bind(this)({parent:e.target.dataset.parent.match(/\w/g).join("").match(/\D/g).join(""),parent_index:parseInt(e.target.dataset.parent.match(/\d/)),index:parseInt(e.target.dataset.index)})}var be=new Blob(["\nlet time = 0;\nsetInterval('postMessage(++time)', 1000);\n"],{type:"application/javascript"}),ve=URL.createObjectURL(be),Ee=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).foundations=[],a.foundationsOffsets=[257,339,421,503],a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"startTimer",value:function(){var e=this;this.timer=new Worker(ve),this.timer.onmessage=function(t){e.props.tick(t.data)}}},{key:"stopTimer",value:function(){this.timer.terminate(),this.timer=void 0}},{key:"startGame",value:function(){this.props.startGame(),this.props.game.options.timed&&void 0===this.timer&&this.startTimer()}},{key:"foundationsRef",value:function(e,t){this.foundations[t]=e}},{key:"componentDidMount",value:function(){this.props.game.status.shouldFetchDeck&&!this.props.game.status.isDeckFetching&&this.props.fetchDeck()}},{key:"componentWillReceiveProps",value:function(e){e.game.status.shouldFetchDeck&&!e.game.status.isDeckFetching&&this.props.fetchDeck()}},{key:"componentDidUpdate",value:function(){this.props.game.status.shouldFetchDeck||this.props.game.status.isDeckFetching||this.props.game.status.isGameStarted||requestAnimationFrame(this.props.layTableau)}},{key:"render",value:function(){var e=this;return this.props.game.status.isPlaying&&this.props.game.options.timed||void 0===this.timer||this.stopTimer(),52===this.props.game.status.cardsInFoundation?(!this.props.game.status.isCelebrating&&this.props.game.status.isPlaying&&this.props.startCelebrating(),s.a.createElement("div",{className:"table-wrapper",ref:"table"},this.props.game.status.isCelebrating&&this.refs.table?s.a.createElement(he,{width:this.refs.table.clientWidth,height:this.refs.table.clientHeight,foundations:this.foundationsOffsets}):"")):(this.foundations.forEach(function(t,a){t&&t.offsetLeft&&e.foundationsOffsets[a]!==t.offsetLeft&&(e.foundationsOffsets[a]=t.offsetLeft)}),s.a.createElement("div",{className:"table-wrapper",ref:"table"},s.a.createElement("div",{className:"table",onMouseDown:ye.bind(this),onDoubleClick:we.bind(this)},s.a.createElement(se,null),s.a.createElement(ie,null),s.a.createElement(re,{refs:this.foundationsRef.bind(this)}),s.a.createElement(oe,null))))}}]),t}(n.PureComponent),ke=Object(r.b)(function(e){return{game:e.game,window:e.window}},function(e){return{draw:function(t){return e({type:"DRAW",payload:t})},drop:function(t){return e({type:"DROP",payload:t})},turn:function(t){return e({type:"TURN",payload:t})},fundOne:function(t){return e({type:"FUND_ONE",payload:t})},fundAll:function(){return e({type:"FUND_ALL"})},activate:function(){return e({type:"ACTIVATE",payload:"solitaire"})},startGame:function(){return e({type:"START_GAME"})},tick:function(t){return e({type:"TICK",payload:t})},startCelebrating:function(){return e({type:"START_CELEBRATING"})},fetchDeck:function(){e({type:"SHUFFLING_DECK"});var t=localStorage.getItem("deckID");t?fetch("https://deckofcardsapi.com/api/deck/".concat(t,"/shuffle/")).then(function(){return fetch("https://deckofcardsapi.com/api/deck/".concat(t,"/draw/?count=52"))}).then(function(e){return e.json()}).then(function(t){return e({type:"LAY_DECK",payload:t.cards})}).catch(function(t){e({type:"THROW_ERROR",payload:"Cannot shuffle deck because of ".concat(t.message)}),e({type:"SHOW_WINDOW",payload:"error"})}):fetch("https://deckofcardsapi.com/api/deck/new/draw/?count=52").then(function(e){return e.json()}).then(function(t){localStorage.setItem("deckID",t.deck_id),e({type:"LAY_DECK",payload:t.cards})}).catch(function(t){e({type:"THROW_ERROR",payload:"Cannot shuffle deck because of ".concat(t.message)}),e({type:"SHOW_WINDOW",payload:"error"})})},layTableau:function(){return e({type:"LAY_TABLEAU"})}}})(Ee);a(49);var Se=Object(r.b)(function(e){return{window:e.window}},function(e){return{close:function(){return e({type:"CLOSE",payload:"error"})}}})(function(e){return s.a.createElement("div",{className:"error-contents"},s.a.createElement("div",{className:"icon"}),s.a.createElement("div",{className:"message"},e.window.error.message),s.a.createElement(F,{type:"ok",selected:!0,click:e.close}))});a(50);function Oe(e){var t=this;if("solitaire"===this.props.name&&this.props.game.status.isCelebrating)this.props.stopCelebrating();else if(this.props.window.activity[this.props.window.activity.length-1]!==this.props.name&&this.props.activate(this.props.name),0===e.button&&!this.props.window[this.props.name].isBlocked){var a=null;if(e.target.classList.contains("window"))a=e.target;else{if(!(e.target.classList.contains("window__header")||e.target.classList.contains("window__icon")||e.target.classList.contains("window__caption")))return;a=e.target.parentElement}var n=e.pageX,s=e.pageY,i=a.offsetLeft,o=a.offsetTop,r=function(e){!t.props.window.isCursorFreezed&&t.props.freezeCursor(!0),document.addEventListener("mousemove",e),document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",e),t.props.window.isCursorFreezed&&t.props.freezeCursor(!1)},{once:!0})};if(this.props.window.cursor){if(!this.props.window[this.props.name].isResizable)return;var c=a.clientHeight,l=a.clientWidth,d=function(e){e.pageY>document.documentElement.clientHeight||e.pageY<0||t.props.resize({window:t.props.name,top:a.offsetTop,height:e.pageY-s+c})},u=function(e){e.pageY>document.documentElement.clientHeight||e.pageY<0||s-e.pageY+c>37&&t.props.resize({window:t.props.name,top:e.pageY-s+o,height:s-e.pageY+c})},p=function(e){e.pageX>document.documentElement.clientWidth||e.pageX<0||t.props.resize({window:t.props.name,left:a.offsetLeft,width:e.pageX-n+l})},m=function(e){e.pageX>document.documentElement.clientHeight||e.pageX<0||n-e.pageX+l>145&&t.props.resize({window:t.props.name,left:e.pageX-n+i,width:n-e.pageX+l})},h={x:a.offsetLeft+a.clientLeft+a.clientWidth/2,y:a.offsetTop+a.clientTop+a.clientHeight/2};switch(this.props.window.cursor){case"nwse-resize":e.pageX<h.x&&e.pageY<h.y?r(function(e){m(e),u(e)}):e.pageX>h.x&&e.pageY>h.y&&r(function(e){p(e),d(e)});break;case"nesw-resize":e.pageX<h.x&&e.pageY>h.y?r(function(e){m(e),d(e)}):e.pageX>h.x&&e.pageY<h.y&&r(function(e){p(e),u(e)});break;case"ns-resize":e.pageY>h.y?r(d):e.pageY<h.y&&r(u);break;case"ew-resize":e.pageX<h.x?r(m):e.pageX>h.x&&r(p)}}else if(e.target.classList.contains("window__header")||e.target.classList.contains("window__icon")||e.target.classList.contains("window__caption")){if(this.props.window[this.props.name].isMaximized||this.props.window[this.props.name].isMinimized)return;r(function(e){t.props.move({window:t.props.name,left:e.pageX-n+i,top:e.pageY-s+o})})}}}var xe=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).props.window[a.props.name].isResizable&&(a.handleMouseMove=function(e){if(!(this.props.window[this.props.name].isBlocked||this.props.window[this.props.name].isMaximized||this.props.window[this.props.name].isMinimized||this.props.window.isCursorFreezed)){var t=null;if(e.target.classList.contains("window"))t=e.target;else{if(!e.target.classList.contains("window__header"))return void(null!==this.props.window.cursor&&this.props.changeCursor({window:this.props.name,cursor:null}));t=e.target.offsetParent}var a={left:t.offsetLeft+t.clientLeft,right:t.offsetLeft+t.clientLeft+t.clientWidth,top:t.offsetTop-26,bottom:t.offsetTop-26+t.clientTop},n={left:a.left,right:a.right,top:t.offsetTop+t.clientTop+t.clientHeight,bottom:t.offsetTop+2*t.clientTop+t.clientHeight},s={left:t.offsetLeft,right:a.left,top:a.bottom,bottom:n.top},i={left:a.right,right:a.right+t.clientLeft,top:a.bottom,bottom:n.top},o=s.left,r=s.right,c=a.top,l=a.bottom,d=i.left,u=i.right,p=a.top,m=a.bottom,h=s.left,g=s.right,f=n.top,y=n.bottom,w=i.left,b=i.right,v=n.top,E=n.bottom,k=function(e,t){if(!(e>=s.right&&e<=i.left&&t>=a.bottom&&t<=n.top))return e>=a.left&&e<=a.right&&t>=a.top&&t<=a.bottom||e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom?"ns-resize":e>=s.left&&e<=s.right&&t>=s.top&&t<=s.bottom||e>=i.left&&e<=i.right&&t>=i.top&&t<=i.bottom?"ew-resize":e>=o&&e<=r&&t>=c&&t<=l||e>w&&e<=b&&t>=v&&t<=E?"nwse-resize":e>=h&&e<=g&&t>=f&&t<=y||e>=d&&e<=u&&t>=p&&t<=m?"nesw-resize":void 0}(e.pageX,e.pageY);void 0!==k?this.props.window.cursor!==k&&this.props.changeCursor({window:this.props.name,cursor:k}):null!==this.props.window.cursor&&this.props.changeCursor({window:this.props.name,cursor:null})}}.bind(Object(H.a)(a)),a.handleMouseLeave=function(){null===a.props.window[a.props.name].cursor||a.props.window.isCursorFreezed||a.props.changeCursor({window:a.props.name,cursor:null})},a.handleDoubleClick=function(){a.props.window[a.props.name].isBlocked||(a.props.window[a.props.name].isMaximized?a.props.restore.bind(Object(H.a)(a))(a.props.name):a.props.window[a.props.name].isMinimized||a.props.maximize.bind(Object(H.a)(a))(a.props.name),null!==a.props.window.cursor&&a.props.changeCursor({window:a.props.name,cursor:null}))}),a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this,t=this.props.window[this.props.name],a=t.buttons.map(function(t){return s.a.createElement("div",{key:e.props.name+t,className:"window__button window__button_".concat(t),onMouseDown:function(a){if("solitaire"===e.props.name&&e.props.game.status.isCelebrating)return a.stopPropagation(),void e.props.stopCelebrating();if("restart"!==e.props.name&&!e.props.window[e.props.name].isBlocked){var n=a.target;0===a.button&&document.addEventListener("mouseup",function(a){n===a.target&&e.props[t].bind(e)(e.props.name)},{once:!0})}}})}),n="window ".concat(this.props.name);return this.props.window.activity[this.props.window.activity.length-1]===this.props.name?n+=" active":n+=" inactive",this.props.window[this.props.name].isResizable&&(this.props.window[this.props.name].isMinimized?n+=" minimized":this.props.window[this.props.name].isMaximized&&(n+=" maximized")),this.props.window[this.props.name].alert&&(n+=" alert",setTimeout(function(){e.props.window[e.props.name].alert&&e.props.cancelAlert(e.props.name)},800)),this.props.window[this.props.name].isBlocked&&(n+=" blocked"),s.a.createElement("div",{className:n,onMouseDown:Oe.bind(this),onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,style:{width:Number.isFinite(t.style.width)?"".concat(t.style.width,"px"):t.style.width,height:Number.isFinite(t.style.height)?"".concat(t.style.height,"px"):t.style.height,left:Number.isFinite(t.style.left)?"".concat(t.style.left,"px"):"calc(50vw - ".concat(t.style.width/2,"px)"),top:Number.isFinite(t.style.top)?"".concat(t.style.top,"px"):"calc(50vh - ".concat(t.style.height/2,"px)"),zIndex:this.props.window.activity.indexOf(this.props.name)}},s.a.createElement("div",{className:"window__header",onDoubleClick:this.handleDoubleClick}),"solitaire"===this.props.name||"help"===this.props.name?s.a.createElement("div",{className:"window__icon"}):"",s.a.createElement("div",{className:"window__caption"},t.caption),a,this.props.children)}}]),t}(n.Component),Ie=Object(r.b)(function(e){return{game:e.game,window:e.window}},function(e){return{move:function(t){return e({type:"MOVE",payload:t})},resize:function(t){return e({type:"RESIZE",payload:t})},minimize:function(t){return e({type:"MINIMIZE",payload:t})},maximize:function(t){return e({type:"MAXIMIZE",payload:t})},restore:function(t){return e({type:"RESTORE",payload:t})},help:function(){return e({type:"SHOW_WINDOW",payload:"help"})},activate:function(t){return e({type:"ACTIVATE",payload:t})},freezeCursor:function(t){return e({type:"FREEZE_CURSOR",payload:t})},changeCursor:function(t){return e({type:"CHANGE_CURSOR",payload:t})},cancelAlert:function(t){return e({type:"CANCEL_ALERT",payload:t})},close:function(t){"solitaire"===t&&e({type:"STOP_GAME"}),e({type:"CLOSE",payload:t})},stopCelebrating:function(){e({type:"STOP_CELEBRATING"}),e({type:"SHOW_WINDOW",payload:"restart"})}}})(xe);a(51),a(52);function Ce(e){var t="input-label",a="input-".concat(e.type);return e.checked&&(a+=" checked"),e.disabled&&(a+=" disabled",t+=" disabled"),s.a.createElement("div",{className:"input-container",onMouseDown:function(t){if(e.click&&0===t.button){var a=t.target;document.addEventListener("mouseup",function(t){t.target===a&&e.click()},{once:!0})}}},s.a.createElement("div",{className:a}),s.a.createElement("div",{className:t},e.label))}var _e=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).state=Object(u.a)({},a.props.game.options),a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"options-contents"},s.a.createElement("div",{className:"section-1"},s.a.createElement("div",{className:"fieldset"},s.a.createElement("div",{className:"legend"},"Draw"),s.a.createElement(Ce,{type:"radio",checked:"one"===this.state.draw,label:"Draw One",click:function(){e.setState({draw:"one"})}}),s.a.createElement(Ce,{type:"radio",checked:"three"===this.state.draw,label:"Draw Three",click:function(){e.setState({draw:"three"})}})),s.a.createElement(Ce,{type:"checkbox",checked:this.state.timed,label:"Timed game",click:function(){e.setState({timed:!e.state.timed})}}),s.a.createElement(Ce,{type:"checkbox",checked:this.state.status,label:"Status bar",click:function(){e.setState({status:!e.state.status})}}),s.a.createElement(Ce,{type:"checkbox",checked:this.state.outline,label:"Outline dragging",click:function(){e.setState({outline:!e.state.outline})}})),s.a.createElement("div",{className:"section-2"},s.a.createElement("div",{className:"fieldset"},s.a.createElement("div",{className:"legend"},"Scoring"),s.a.createElement(Ce,{type:"radio",label:"Standart",checked:"standard"===this.state.scoring,click:function(){e.setState({scoring:"standard"})}}),s.a.createElement(Ce,{type:"radio",label:"Vegas",checked:"vegas"===this.state.scoring,click:function(){e.setState({scoring:"vegas"})}}),s.a.createElement(Ce,{type:"radio",label:"None",checked:"none"===this.state.scoring,click:function(){e.setState({scoring:"none"})}})),s.a.createElement(Ce,{type:"checkbox",checked:this.state.cumulative,disabled:!("vegas"===this.state.scoring),click:function(){"vegas"===e.state.scoring&&e.setState({cumulative:!e.state.cumulative})},label:"Cumulative Score"}),s.a.createElement(F,{type:"ok",selected:!0,click:function(){e.props.game.options.scoring!==e.state.scoring||e.props.game.options.draw!==e.state.draw||e.props.game.options.timed!==e.state.timed?e.props.setAndDeal(e.state):e.props.set(e.state),e.props.close()}}),s.a.createElement(F,{type:"cancel",click:function(){e.props.close()}})))}}]),t}(n.Component),Ne=Object(r.b)(function(e){return{game:e.game}},function(e){return{close:function(){return e({type:"CLOSE",payload:"options"})},set:function(t){return e({type:"SET_OPTIONS",payload:t})},setAndDeal:function(t){e({type:"SET_OPTIONS",payload:t}),e({type:"DEAL"})}}})(_e);a(53);var Te=Object(r.b)(null,function(e){return{close:function(){return e({type:"CLOSE",payload:"restart"})},closeAndDeal:function(){e({type:"CLOSE",payload:"restart"}),e({type:"DEAL"})}}})(function(e){return s.a.createElement("div",{className:"restart"},s.a.createElement("div",{className:"restart-icon"}),s.a.createElement("div",{className:"restart-message"},"Deal Again?"),s.a.createElement(F,{type:"ok",selected:!0,click:e.closeAndDeal}),s.a.createElement(F,{type:"cancel",click:e.close}))});a(54);var je=Object(r.b)(function(e){return{game:e.game,window:e.window}})(function(e){var t=e.game.status.score,a="score";return"vegas"===e.game.options.scoring&&(t<0?(t="-$".concat(Math.abs(t)),a+=" red"):t="$".concat(t)),s.a.createElement("div",{className:"status-bar"},s.a.createElement("div",{className:"description"},e.game.status.isCelebrating&&e.game.status.bonus>0?"Bonus: ".concat(e.game.status.bonus," Press Esc or a mouse button to stop..."):e.window.solitaire.status.description),s.a.createElement("div",{className:"status"},"none"!==e.game.options.scoring?s.a.createElement("div",{className:a},"Score: ",t):"",e.game.options.timed?s.a.createElement("div",{className:"time"},"Time: ",e.game.status.time):""))});a(55);var Le=Object(r.b)(function(e){return{game:e.game}},function(e){return{close:function(){return e({type:"CLOSE",payload:"statistics"})}}})(function(e){var t=[{caption:"Games played:",items:[["Standard scoring:",e.game.statistics.played.standard.toString()],["Vegas scoring:",e.game.statistics.played.vegas.toString()],["Without scoring:",e.game.statistics.played.none.toString()]]},{caption:"Games won:",items:[["Standard scoring:",e.game.statistics.won.standard.toString()],["Vegas scoring:",e.game.statistics.won.vegas.toString()],["Without scoring:",e.game.statistics.won.none.toString()]]},{caption:"Higest score:",items:[["Standard scoring:",e.game.statistics.hiScore.standard.normal.toString()],["Standard scoring with time:",e.game.statistics.hiScore.standard.timed.toString()],["Vegas scoring:",e.game.statistics.hiScore.vegas.toString()]]},{items:[["Best time:",e.game.statistics.bestTime===1/0?"\u221e":e.game.statistics.bestTime.toString()]]}];return s.a.createElement("div",{className:"statistics-contents"},s.a.createElement("div",{className:"logo"},"Solitaire"),t.map(function(e,t){return s.a.createElement("div",{key:"statistics".concat(t),className:"statistics-item"},e.caption?s.a.createElement("div",{className:"statistics-caption"},e.caption):"",s.a.createElement("ul",{className:"list"},e.items.map(function(e,t){return s.a.createElement("li",{key:"list".concat(t)},s.a.createElement("span",null,e[0]),s.a.createElement("span",null),s.a.createElement("span",null,e[1]))})))}),s.a.createElement(F,{type:"ok",selected:!0,click:e.close}))}),De=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(_.a)(t).call(this,e))).state={key:null,bsod:!1},a.handleKeyDown=function(e){e.which===a.state.key||!a.props.window.solitaire.isShowing||"solitaire"!==a.props.window.activity[a.props.window.activity.length-1]||a.props.window.solitaire.isMinimized||112!==e.which&&113!==e.which&&17!==e.which&&65!==e.which||(112===e.which?a.props.help():113===e.which?a.props.deal():17===e.which||65===e.which&&17===a.state.key&&a.props.fundAll(),a.setState({key:e.which}))},a.handleKeyUp=function(e){e.which===a.state.key&&a.setState({key:null})},a.handleRightMouseButton=function(e){e.preventDefault()},a.handleMouseDown=function(e){e.target.classList.contains("root")&&a.props.deactivate()},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("contextmenu",this.handleRightMouseButton),document.addEventListener("mousedown",this.handleMouseDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("contextmenu",this.handleRightMouseButton),document.removeEventListener("mousedown",this.handleMouseDown)}},{key:"render",value:function(){var e=this;if(this.state.bsod)return s.a.createElement(te,null);var t="root";return this.props.window.solitaire.isShowing?(!this.props.game.status.isGameStarted&&(t+=" progress"),this.props.window.cursor&&(t+=" ".concat(this.props.window.cursor))):(!window.history.back()&&setTimeout(function(){e.setState({bsod:!0})},2e3),t+=" wait"),s.a.createElement("div",{className:t},this.props.window.solitaire.isShowing&&s.a.createElement(Ie,{name:"solitaire",children:[s.a.createElement(M,{key:"menu",parent:"solitaire"}),s.a.createElement(ke,{key:"table"}),this.props.game.options.status?s.a.createElement(je,{key:"statusBar"}):""]}),this.props.window.back.isShowing&&s.a.createElement(Ie,{name:"back",children:s.a.createElement(W,null)}),this.props.window.options.isShowing&&s.a.createElement(Ie,{name:"options",children:s.a.createElement(Ne,null)}),this.props.window.help.isShowing&&s.a.createElement(Ie,{name:"help",children:s.a.createElement(ee,null)}),this.props.window.statistics.isShowing&&s.a.createElement(Ie,{name:"statistics",children:s.a.createElement(Le,null)}),this.props.window.restart.isShowing&&s.a.createElement(Ie,{name:"restart",children:s.a.createElement(Te,null)}),this.props.window.error.isShowing&&s.a.createElement(Ie,{name:"error",children:s.a.createElement(Se,null)}))}}]),t}(n.Component),Me=Object(r.b)(function(e){return{game:e.game,window:e.window}},function(e){return{deal:function(){return e({type:"DEAL"})},help:function(){return e({type:"SHOW_WINDOW",payload:"help"})},deactivate:function(){return e({type:"DEACTIVATE"})},fundAll:function(){return e({type:"FUND_ALL"})}}})(De);o.a.render(s.a.createElement(r.a,{store:O},s.a.createElement(Me,null)),document.getElementById("root"))}],[[24,1,2]]]);